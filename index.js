!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(this,(function(){return(()=>{"use strict";var t={881:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const i={undo:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rotate-ccw"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rotate-cw"><polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg>',clear:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'};e.Button=class{constructor(t,e){this.button=document.createElement("button"),this.button.innerHTML=i[t],this.button.title=t,this.button.addEventListener("click",e)}get(){return this.button}}},235:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Canvas=void 0,e.Canvas=class{constructor(t,e,i,n,s){this.isPainting=!1,this.paintings=[],this.currentIndex=0,this.lineWidth=i,this.color=n,this.imageName=s,this.canvas=document.createElement("canvas"),this.canvas.setAttribute("width",t),this.canvas.setAttribute("height",e),this.canvas.addEventListener("contextmenu",(t=>t.preventDefault())),this.context=this.canvas.getContext("2d"),this.canvas.addEventListener("mousedown",this.onMouseDown.bind(this)),this.canvas.addEventListener("mousemove",this.onMouseMove.bind(this)),this.canvas.addEventListener("mouseup",this.onMouseUp.bind(this)),this.canvas.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.canvas.addEventListener("touchstart",this.onTouchStart.bind(this)),this.canvas.addEventListener("touchmove",this.onTouchMove.bind(this)),this.canvas.addEventListener("touchend",this.onTouchEnd.bind(this))}get(){return this.canvas}setLineWidth(t){this.lineWidth=t}setColor(t){this.color=t}clear(){null!=this.context&&(this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.paintings=[])}download(){const t=document.createElement("a");t.href=this.canvas.toDataURL("image/png"),t.download=this.imageName,document.body.appendChild(t),t.click(),document.body.removeChild(t)}undo(){this.currentIndex>0&&this.currentIndex--,this.repaint()}redo(){this.currentIndex<this.getLastPaintingIndex()&&this.currentIndex++,this.repaint()}setWidth(t){this.canvas.setAttribute("width",t),this.repaint()}setHeight(t){this.canvas.setAttribute("height",t),this.repaint()}setImageName(t){this.imageName=t}addPainting(t,e,i){this.paintings.push({x:t,y:e,isDragging:i,color:this.color,lineWidth:this.lineWidth,index:this.currentIndex})}repaint(){if(null!=this.context){const t=this.context;t.clearRect(0,0,t.canvas.width,t.canvas.height),t.lineJoin="round";for(let e=0;e<this.paintings.length;e++){const i=this.paintings[e];if(i.index<=this.currentIndex){if(t.beginPath(),i.isDragging){const i=this.paintings[e-1];t.moveTo(i.x,i.y)}else t.moveTo(i.x,i.y);t.lineTo(i.x,i.y),t.closePath(),t.strokeStyle=i.color,t.lineWidth=i.lineWidth,t.stroke()}}}}getLastPaintingIndex(){return this.paintings.length>0?this.paintings[this.paintings.length-1].index:0}onMouseUp(){this.onPaintEnd()}onMouseLeave(){this.onPaintEnd()}onMouseDown(t){0==t.button&&this.onPaintStart(t.clientX,t.clientY)}onMouseMove(t){this.onPaintMove(t.clientX,t.clientY)}onTouchEnd(){this.onPaintEnd()}onTouchStart(t){this.onPaintStart(t.touches[0].clientX,t.touches[0].clientY)}onTouchMove(t){this.onPaintMove(t.touches[0].clientX,t.touches[0].clientY)}onPaintStart(t,e){this.isPainting=!0,this.currentIndex<this.getLastPaintingIndex()&&(this.paintings=this.paintings.filter((t=>t.index<=this.currentIndex)));const i=t-this.canvas.getBoundingClientRect().left,n=e-this.canvas.getBoundingClientRect().top;this.currentIndex++,this.addPainting(i,n,!1),this.repaint()}onPaintMove(t,e){if(this.isPainting){const i=t-this.canvas.getBoundingClientRect().left,n=e-this.canvas.getBoundingClientRect().top;this.addPainting(i,n,!0),this.repaint()}}onPaintEnd(){this.isPainting=!1}}},994:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPicker=void 0,e.ColorPicker=class{constructor(t,e){this.colorPicker=document.createElement("input"),this.colorPicker.type="color",this.colorPicker.value=t,this.colorPicker.addEventListener("change",(()=>e(this.colorPicker.value)))}get(){return this.colorPicker}setColor(t){this.colorPicker.value=t}}},505:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PaintPad=void 0;const n=i(881),s=i(235),a=i(994),o=i(943),r=i(331);class h extends HTMLElement{constructor(t){var e,i,h,l,d,c,u,g,p,v,b,w,m,x,k,y,P,C,f;super(),this.width="500px",this.height="500px",this.lineWidth=10,this.lineWidthMin=1,this.lineWidthMax=30,this.color="#000000",this.imageName="paintpad",this.hasSlider=!0,this.hasColorPicker=!0,this.isClearable=!0,this.isDownloadable=!0,this.isStateChangeable=!0,this.width=null!==(i=null!==(e=null==t?void 0:t.width)&&void 0!==e?e:this.getAttribute("width"))&&void 0!==i?i:this.width,this.height=null!==(l=null!==(h=null==t?void 0:t.height)&&void 0!==h?h:this.getAttribute("height"))&&void 0!==l?l:this.height,this.lineWidth=null!==(d=null==t?void 0:t.lineWidth)&&void 0!==d?d:parseInt(null!==(c=this.getAttribute("lineWidth"))&&void 0!==c?c:this.lineWidth.toString()),this.lineWidthMin=null!==(u=null==t?void 0:t.lineWidthMin)&&void 0!==u?u:parseInt(null!==(g=this.getAttribute("lineWidthMin"))&&void 0!==g?g:this.lineWidthMin.toString()),this.lineWidthMax=null!==(p=null==t?void 0:t.lineWidthMax)&&void 0!==p?p:parseInt(null!==(v=this.getAttribute("lineWidthMax"))&&void 0!==v?v:this.lineWidthMax.toString()),this.color=null!==(w=null!==(b=null==t?void 0:t.color)&&void 0!==b?b:this.getAttribute("color"))&&void 0!==w?w:this.color,this.imageName=null!==(x=null!==(m=null==t?void 0:t.imageName)&&void 0!==m?m:this.getAttribute("imageName"))&&void 0!==x?x:this.imageName,this.hasSlider=null!==(k=null==t?void 0:t.hasSlider)&&void 0!==k?k:this.getAttribute("hasSlider")?"true"==this.getAttribute("hasSlider"):this.hasSlider,this.hasColorPicker=null!==(y=null==t?void 0:t.hasColorPicker)&&void 0!==y?y:this.getAttribute("hasColorPicker")?"true"==this.getAttribute("hasColorPicker"):this.hasColorPicker,this.isClearable=null!==(P=null==t?void 0:t.isClearable)&&void 0!==P?P:this.getAttribute("isClearable")?"true"==this.getAttribute("isClearable"):this.isClearable,this.isDownloadable=null!==(C=null==t?void 0:t.isDownloadable)&&void 0!==C?C:this.getAttribute("isDownloadable")?"true"==this.getAttribute("isDownloadable"):this.isDownloadable,this.isStateChangeable=null!==(f=null==t?void 0:t.isStateChangeable)&&void 0!==f?f:this.getAttribute("isStateChangeable")?"true"==this.getAttribute("isStateChangeable"):this.isStateChangeable;const M=this.attachShadow({mode:"open"});this.wrapper=document.createElement("div"),this.wrapper.id="wrapper",this.canvas=new s.Canvas(this.width,this.height,this.lineWidth,this.color,this.imageName),this.wrapper.append(this.canvas.get()),this.slider=new o.Slider(this.lineWidthMin,this.lineWidthMax,this.lineWidth,(t=>this.setLineWidth(t))),this.wrapper.append(this.slider.get()),this.btnContainer=document.createElement("div"),this.btnContainer.id="btn-container";const S=document.createElement("div");this.clearBtn=new n.Button("clear",(()=>this.clear())),S.append(this.clearBtn.get()),this.downloadBtn=new n.Button("download",(()=>this.download())),S.append(this.downloadBtn.get()),this.undoBtn=new n.Button("undo",(()=>this.undo())),S.append(this.undoBtn.get()),this.redoBtn=new n.Button("redo",(()=>this.redo())),S.append(this.redoBtn.get()),this.btnContainer.append(S);const W=document.createElement("div");this.colorPicker=new a.ColorPicker(this.color,(t=>this.setColor(t))),W.append(this.colorPicker.get()),this.btnContainer.append(W),this.wrapper.append(this.btnContainer),M.appendChild((0,r.getStyle)()),M.append(this.wrapper),this.setWidth(this.width),this.setVisibility(this.slider.get(),this.hasSlider),this.setVisibility(this.colorPicker.get(),this.hasColorPicker),this.setVisibility(this.clearBtn.get(),this.isClearable),this.setVisibility(this.downloadBtn.get(),this.isDownloadable),this.setVisibility(this.redoBtn.get(),this.isStateChangeable),this.setVisibility(this.undoBtn.get(),this.isStateChangeable)}setWidth(t){this.canvas.setWidth(t),this.wrapper.style.width=t,this.btnContainer.style.width=t,this.slider.get().style.width=t}setHeight(t){this.canvas.setHeight(t)}setLineWidth(t){this.canvas.setLineWidth(t),this.slider.setValue(t)}setLineWidthMin(t){this.slider.setMinValue(t)}setLineWidthMax(t){this.slider.setMaxValue(t)}setColor(t){this.canvas.setColor(t),this.colorPicker.setColor(t)}setImageName(t){this.canvas.setImageName(t)}setSlider(t){this.setVisibility(this.slider.get(),t)}setColorPicker(t){this.setVisibility(this.colorPicker.get(),t)}setClearable(t){this.setVisibility(this.clearBtn.get(),t)}setDownloadable(t){this.setVisibility(this.downloadBtn.get(),t)}setStateChangeable(t){this.setVisibility(this.redoBtn.get(),t),this.setVisibility(this.undoBtn.get(),t)}setVisibility(t,e){t.style.display=e?"inline-block":"none"}clear(){this.canvas.clear()}download(){this.canvas.download()}undo(){this.canvas.undo()}redo(){this.canvas.redo()}getDataURL(){return this.canvas.get().toDataURL("image/png")}getBlob(t,e,i){return this.canvas.get().toBlob(t,e,i)}attributeChangedCallback(t,e,i){switch(t){case"width":this.setWidth(i);break;case"height":this.setHeight(i);break;case"linewidth":this.setLineWidth(parseInt(i));break;case"linewidthmin":this.setLineWidthMin(parseInt(i));break;case"linewidthmax":this.setLineWidthMax(parseInt(i));break;case"color":this.setColor(i);break;case"imagename":this.setImageName(i);break;case"hasslider":this.setSlider("true"==i);break;case"hascolorpicker":this.setColorPicker("true"==i);break;case"isclearable":this.setClearable("true"==i);break;case"isdownloadable":this.setDownloadable("true"==i);break;case"isstatechangeable":this.setStateChangeable("true"==i)}}static get observedAttributes(){return["width","height","linewidth","linewidthmin","linewidthmax","color","imagename","hasslider","hascolorpicker","isclearable","isdownloadable","isstatechangeable"]}}e.PaintPad=h,customElements.define("paint-pad",h)},943:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0,e.Slider=class{constructor(t,e,i,n){this.slider=document.createElement("input"),this.slider.type="range",this.slider.min=t.toString(),this.slider.max=e.toString(),this.slider.value=i.toString(),this.slider.title=this.slider.value,this.slider.addEventListener("change",(()=>n(parseInt(this.slider.value)))),this.slider.addEventListener("change",(()=>this.slider.title=this.slider.value))}get(){return this.slider}setValue(t){this.slider.value=t.toString()}setMinValue(t){this.slider.min=t.toString()}setMaxValue(t){this.slider.max=t.toString()}}},331:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getStyle=void 0,e.getStyle=function(){const t=document.createElement("style");return t.innerHTML='\n    #wrapper {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n\n    canvas {\n      background-color: #fff;\n      border: 2px solid #d3d3d3;\n    }\n\n    #btn-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-top: 6px;\n    }\n    \n    button {\n      width: 20px;\n      height: 20px;\n      background: none;\n      border: none;\n      padding: 0;\n      cursor: pointer;\n      border-bottom: 1px solid transparent;\n    }\n\n    button:hover {\n      border-bottom: 1px solid #444;\n      transition: all 1s ease;\n    }\n    \n    input[type="range"] {\n      -webkit-appearance: none;\n      height: 2px;\n      background: #444;\n      margin-top: 10px;\n      opacity: 0.7;\n      transition: opacity .2s;\n    }\n    \n    input[type="range"]:hover {\n      opacity: 1;\n    }\n    \n    input[type="range"]::-webkit-slider-thumb {\n      appearance: none;\n      width: 10px;\n      height: 10px;\n      border-radius: 50%;\n      border: 1px solid black;\n      background: #fff;\n      cursor: pointer;\n      z-index: 1;\n    }\n\n    input[type="range"]::-moz-range-thumb {\n      width: 8px;\n      height: 8px;\n      border-radius: 50%;\n      border: 1px solid black;\n      cursor: pointer;\n      z-index: 1;\n    }\n\n    input[type="color"] {\n      width: 20px;\n      height: 20px;\n      border: none;\n      background: none;\n      padding: 0;\n      cursor: pointer;\n      border-bottom: 1px solid transparent;\n    }\n\n    input[type="color"]:hover {\n      border-bottom: 1px solid #444;\n      transition: all 1s ease;\n    }\n    ',t}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,i),a.exports}var n={};return(()=>{var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.PaintPad=void 0;var e=i(505);Object.defineProperty(t,"PaintPad",{enumerable:!0,get:function(){return e.PaintPad}})})(),n})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLMkcsT0FBT3RCLFFBR3hFMUUsTUFDTCxPQUFPWCxLQUFLMkcsT0FHUGUsU0FBU3JDLEdBQ2RyRixLQUFLMkcsT0FBT3RCLE1BQVFBLEVBQU1jLFdBR3JCeUIsWUFBWXZDLEdBQ2pCckYsS0FBSzJHLE9BQU9zQyxJQUFNNUQsRUFBTWMsV0FHbkIyQixZQUFZekMsR0FDakJyRixLQUFLMkcsT0FBT3VDLElBQU03RCxFQUFNYyxjLCtFQzNCNUIsc0JBQ0UsTUFBTXNCLEVBQVFuSCxTQUFTQyxjQUFjLFNBbUZyQyxPQWxGQWtILEVBQU1qSCxVQUFZLGdwREFrRlhpSCxLQ25GTDBCLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWE1SixRQUdyQixJQUFJQyxFQUFTd0osRUFBeUJFLEdBQVksQ0FHakQzSixRQUFTLElBT1YsT0FIQThKLEVBQW9CSCxHQUFVMUosRUFBUUEsRUFBT0QsUUFBUzBKLEdBRy9DekosRUFBT0QsUSxnR0NyQmYsYUFBUywwRUFBQTRGLGEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYWludHBhZC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vcGFpbnRwYWQvLi9zcmMvYnV0dG9uLnRzIiwid2VicGFjazovL3BhaW50cGFkLy4vc3JjL2NhbnZhcy50cyIsIndlYnBhY2s6Ly9wYWludHBhZC8uL3NyYy9jb2xvcnBpY2tlci50cyIsIndlYnBhY2s6Ly9wYWludHBhZC8uL3NyYy9wYWludHBhZC50cyIsIndlYnBhY2s6Ly9wYWludHBhZC8uL3NyYy9zbGlkZXIudHMiLCJ3ZWJwYWNrOi8vcGFpbnRwYWQvLi9zcmMvc3R5bGUudHMiLCJ3ZWJwYWNrOi8vcGFpbnRwYWQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcGFpbnRwYWQvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsImNvbnN0IHN2ZzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcclxuICAndW5kbyc6ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEyXCIgaGVpZ2h0PVwiMTJcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1yb3RhdGUtY2N3XCI+PHBvbHlsaW5lIHBvaW50cz1cIjEgNCAxIDEwIDcgMTBcIj48L3BvbHlsaW5lPjxwYXRoIGQ9XCJNMy41MSAxNWE5IDkgMCAxIDAgMi4xMy05LjM2TDEgMTBcIj48L3BhdGg+PC9zdmc+JyxcclxuICAncmVkbyc6ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEyXCIgaGVpZ2h0PVwiMTJcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1yb3RhdGUtY3dcIj48cG9seWxpbmUgcG9pbnRzPVwiMjMgNCAyMyAxMCAxNyAxMFwiPjwvcG9seWxpbmU+PHBhdGggZD1cIk0yMC40OSAxNWE5IDkgMCAxIDEtMi4xMi05LjM2TDIzIDEwXCI+PC9wYXRoPjwvc3ZnPicsXHJcbiAgJ2NsZWFyJzogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLXgtY2lyY2xlXCI+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiPjwvY2lyY2xlPjxsaW5lIHgxPVwiMTVcIiB5MT1cIjlcIiB4Mj1cIjlcIiB5Mj1cIjE1XCI+PC9saW5lPjxsaW5lIHgxPVwiOVwiIHkxPVwiOVwiIHgyPVwiMTVcIiB5Mj1cIjE1XCI+PC9saW5lPjwvc3ZnPicsXHJcbiAgJ2Rvd25sb2FkJzogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWRvd25sb2FkXCI+PHBhdGggZD1cIk0yMSAxNXY0YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0ydi00XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCI3IDEwIDEyIDE1IDE3IDEwXCI+PC9wb2x5bGluZT48bGluZSB4MT1cIjEyXCIgeTE9XCIxNVwiIHgyPVwiMTJcIiB5Mj1cIjNcIj48L2xpbmU+PC9zdmc+J1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBidXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihhY3Rpb246IHN0cmluZywgb25DbGljazogKGU6IE1vdXNlRXZlbnQpID0+IHZvaWQpIHtcclxuICAgIHRoaXMuYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICB0aGlzLmJ1dHRvbi5pbm5lckhUTUwgPSBzdmdbYWN0aW9uXTtcclxuICAgIHRoaXMuYnV0dG9uLnRpdGxlID0gYWN0aW9uO1xyXG4gICAgdGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQoKTogSFRNTEJ1dHRvbkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIHRoaXMuYnV0dG9uO1xyXG4gIH1cclxufSIsInR5cGUgUGFpbnRpbmcgPSB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxuICBpc0RyYWdnaW5nOiBib29sZWFuO1xyXG4gIGNvbG9yOiBzdHJpbmc7XHJcbiAgbGluZVdpZHRoOiBudW1iZXI7XHJcbiAgaW5kZXg6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbnZhcyB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbDtcclxuICBcclxuICBwcml2YXRlIGlzUGFpbnRpbmcgPSBmYWxzZTtcclxuICBwcml2YXRlIHBhaW50aW5nczogUGFpbnRpbmdbXSA9IFtdO1xyXG4gIHByaXZhdGUgY3VycmVudEluZGV4ID0gMDtcclxuICBwcml2YXRlIGNvbG9yOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBsaW5lV2lkdGg6IG51bWJlcjtcclxuICBwcml2YXRlIGltYWdlTmFtZTogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih3aWR0aDogc3RyaW5nLCBoZWlnaHQ6IHN0cmluZywgbGluZVdpZHRoOiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIGltYWdlTmFtZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIHRoaXMuaW1hZ2VOYW1lID0gaW1hZ2VOYW1lO1xyXG5cclxuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBlID0+IGUucHJldmVudERlZmF1bHQoKSk7XHJcbiAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlLmJpbmQodGhpcykpO1xyXG5cclxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hTdGFydC5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZC5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQoKTogSFRNTENhbnZhc0VsZW1lbnQge1xyXG4gICAgcmV0dXJuIHRoaXMuY2FudmFzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldExpbmVXaWR0aChsaW5lV2lkdGg6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0Q29sb3IoY29sb3I6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY29udGV4dCAhPSBudWxsKSB7XHJcbiAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgIHRoaXMucGFpbnRpbmdzID0gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZG93bmxvYWQoKTogdm9pZCB7XHJcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgbGluay5ocmVmID0gdGhpcy5jYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcclxuICAgIGxpbmsuZG93bmxvYWQgPSB0aGlzLmltYWdlTmFtZTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICBsaW5rLmNsaWNrKCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVuZG8oKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPiAwKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEluZGV4LS07XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlcGFpbnQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZWRvKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEluZGV4IDwgdGhpcy5nZXRMYXN0UGFpbnRpbmdJbmRleCgpKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEluZGV4Kys7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlcGFpbnQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRXaWR0aCh3aWR0aDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgdGhpcy5yZXBhaW50KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0SGVpZ2h0KGhlaWdodDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCk7XHJcbiAgICB0aGlzLnJlcGFpbnQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRJbWFnZU5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLmltYWdlTmFtZSA9IG5hbWU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZFBhaW50aW5nKHg6IG51bWJlciwgeTogbnVtYmVyLCBpc0RyYWdnaW5nOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLnBhaW50aW5ncy5wdXNoKHtcclxuICAgICAgeDogeCxcclxuICAgICAgeTogeSxcclxuICAgICAgaXNEcmFnZ2luZzogaXNEcmFnZ2luZyxcclxuICAgICAgY29sb3I6IHRoaXMuY29sb3IsXHJcbiAgICAgIGxpbmVXaWR0aDogdGhpcy5saW5lV2lkdGgsXHJcbiAgICAgIGluZGV4OiB0aGlzLmN1cnJlbnRJbmRleFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlcGFpbnQoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jb250ZXh0ICE9IG51bGwpIHtcclxuICAgICAgY29uc3QgY3R4ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgY3R4LmxpbmVKb2luID0gJ3JvdW5kJztcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYWludGluZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBwYWludGluZyA9IHRoaXMucGFpbnRpbmdzW2ldO1xyXG4gICAgICAgIGlmIChwYWludGluZy5pbmRleCA8PSB0aGlzLmN1cnJlbnRJbmRleCkge1xyXG4gICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgaWYgKHBhaW50aW5nLmlzRHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJldlBhaW50aW5nID0gdGhpcy5wYWludGluZ3NbaSAtIDFdO1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHByZXZQYWludGluZy54LCBwcmV2UGFpbnRpbmcueSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHBhaW50aW5nLngsIHBhaW50aW5nLnkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY3R4LmxpbmVUbyhwYWludGluZy54LCBwYWludGluZy55KTtcclxuICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHBhaW50aW5nLmNvbG9yO1xyXG4gICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHBhaW50aW5nLmxpbmVXaWR0aDtcclxuICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0TGFzdFBhaW50aW5nSW5kZXgoKTogbnVtYmVyIHtcclxuICAgIGlmICh0aGlzLnBhaW50aW5ncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBhaW50aW5nc1t0aGlzLnBhaW50aW5ncy5sZW5ndGggLSAxXS5pbmRleDtcclxuICAgIH1cclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbk1vdXNlVXAoKTogdm9pZCB7XHJcbiAgICB0aGlzLm9uUGFpbnRFbmQoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Nb3VzZUxlYXZlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5vblBhaW50RW5kKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uTW91c2VEb3duKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGlmIChlLmJ1dHRvbiA9PSAwKSB7XHJcbiAgICAgIHRoaXMub25QYWludFN0YXJ0KGUuY2xpZW50WCwgZS5jbGllbnRZKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Nb3VzZU1vdmUoZTogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgdGhpcy5vblBhaW50TW92ZShlLmNsaWVudFgsIGUuY2xpZW50WSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uVG91Y2hFbmQoKSB7XHJcbiAgICB0aGlzLm9uUGFpbnRFbmQoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Ub3VjaFN0YXJ0KGU6IFRvdWNoRXZlbnQpIHtcclxuICAgIHRoaXMub25QYWludFN0YXJ0KGUudG91Y2hlc1swXS5jbGllbnRYLCBlLnRvdWNoZXNbMF0uY2xpZW50WSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uVG91Y2hNb3ZlKGU6IFRvdWNoRXZlbnQpIHtcclxuICAgIHRoaXMub25QYWludE1vdmUoZS50b3VjaGVzWzBdLmNsaWVudFgsIGUudG91Y2hlc1swXS5jbGllbnRZKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25QYWludFN0YXJ0KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmlzUGFpbnRpbmcgPSB0cnVlO1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEluZGV4IDwgdGhpcy5nZXRMYXN0UGFpbnRpbmdJbmRleCgpKSB7XHJcbiAgICAgIHRoaXMucGFpbnRpbmdzID0gdGhpcy5wYWludGluZ3MuZmlsdGVyKGQgPT4gZC5pbmRleCA8PSB0aGlzLmN1cnJlbnRJbmRleCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBjbGllbnRYID0geCAtIHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgICBjb25zdCBjbGllbnRZID0geSAtIHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgIHRoaXMuY3VycmVudEluZGV4Kys7XHJcbiAgICB0aGlzLmFkZFBhaW50aW5nKGNsaWVudFgsIGNsaWVudFksIGZhbHNlKTtcclxuICAgIHRoaXMucmVwYWludCgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblBhaW50TW92ZSh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgaWYgKHRoaXMuaXNQYWludGluZykge1xyXG4gICAgICBjb25zdCBjbGllbnRYID0geCAtIHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgICAgIGNvbnN0IGNsaWVudFkgPSB5IC0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICB0aGlzLmFkZFBhaW50aW5nKGNsaWVudFgsIGNsaWVudFksIHRydWUpO1xyXG4gICAgICB0aGlzLnJlcGFpbnQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25QYWludEVuZCgpIHtcclxuICAgIHRoaXMuaXNQYWludGluZyA9IGZhbHNlO1xyXG4gIH1cclxufSIsImV4cG9ydCBjbGFzcyBDb2xvclBpY2tlciB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjb2xvclBpY2tlcjogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoY29sb3I6IHN0cmluZywgb25DaGFuZ2U6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkKSB7XHJcbiAgICB0aGlzLmNvbG9yUGlja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIHRoaXMuY29sb3JQaWNrZXIudHlwZSA9ICdjb2xvcic7XHJcbiAgICB0aGlzLmNvbG9yUGlja2VyLnZhbHVlID0gY29sb3I7XHJcbiAgICB0aGlzLmNvbG9yUGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IG9uQ2hhbmdlKHRoaXMuY29sb3JQaWNrZXIudmFsdWUpKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQoKTogSFRNTElucHV0RWxlbWVudCB7XHJcbiAgICByZXR1cm4gdGhpcy5jb2xvclBpY2tlcjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRDb2xvcihjb2xvcjogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmNvbG9yUGlja2VyLnZhbHVlID0gY29sb3I7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi9idXR0b24nO1xyXG5pbXBvcnQgeyBDYW52YXMgfSBmcm9tICcuL2NhbnZhcyc7XHJcbmltcG9ydCB7IENvbG9yUGlja2VyIH0gZnJvbSAnLi9jb2xvcnBpY2tlcic7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gJy4vc2xpZGVyJztcclxuaW1wb3J0IHsgZ2V0U3R5bGUgfSBmcm9tICcuL3N0eWxlJztcclxuXHJcbnR5cGUgUGFpbnRQYWRPcHRpb25zID0ge1xyXG4gIHdpZHRoPzogc3RyaW5nO1xyXG4gIGhlaWdodD86IHN0cmluZztcclxuICBsaW5lV2lkdGg/OiBudW1iZXI7XHJcbiAgbGluZVdpZHRoTWluPzogbnVtYmVyO1xyXG4gIGxpbmVXaWR0aE1heD86IG51bWJlcjtcclxuICBjb2xvcj86IHN0cmluZztcclxuICBpbWFnZU5hbWU/OiBzdHJpbmc7XHJcbiAgaGFzU2xpZGVyPzogYm9vbGVhbjtcclxuICBoYXNDb2xvclBpY2tlcj86IGJvb2xlYW47XHJcbiAgaXNDbGVhcmFibGU/OiBib29sZWFuO1xyXG4gIGlzRG93bmxvYWRhYmxlPzogYm9vbGVhbjtcclxuICBpc1N0YXRlQ2hhbmdlYWJsZT86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQYWludFBhZCBleHRlbmRzIEhUTUxFbGVtZW50IHtcclxuICBwcml2YXRlIHJlYWRvbmx5IGNhbnZhczogQ2FudmFzO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgc2xpZGVyOiBTbGlkZXI7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjb2xvclBpY2tlcjogQ29sb3JQaWNrZXI7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjbGVhckJ0bjogQnV0dG9uO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgZG93bmxvYWRCdG46IEJ1dHRvbjtcclxuICBwcml2YXRlIHJlYWRvbmx5IHVuZG9CdG46IEJ1dHRvbjtcclxuICBwcml2YXRlIHJlYWRvbmx5IHJlZG9CdG46IEJ1dHRvbjtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSB3cmFwcGVyOiBIVE1MRGl2RWxlbWVudDtcclxuICBwcml2YXRlIHJlYWRvbmx5IGJ0bkNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgd2lkdGg6IHN0cmluZyA9ICc1MDBweCc7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBoZWlnaHQ6IHN0cmluZyA9ICc1MDBweCc7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBsaW5lV2lkdGg6IG51bWJlciA9IDEwO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgbGluZVdpZHRoTWluOiBudW1iZXIgPSAxO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgbGluZVdpZHRoTWF4OiBudW1iZXIgPSAzMDtcclxuICBwcml2YXRlIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmcgPSAnIzAwMDAwMCc7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBpbWFnZU5hbWU6IHN0cmluZyA9ICdwYWludHBhZCc7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBoYXNTbGlkZXI6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgaGFzQ29sb3JQaWNrZXI6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgaXNDbGVhcmFibGU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgaXNEb3dubG9hZGFibGU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgaXNTdGF0ZUNoYW5nZWFibGU6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihvcHQ/OiBQYWludFBhZE9wdGlvbnMpIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy53aWR0aCA9IG9wdD8ud2lkdGggPz8gdGhpcy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykgPz8gdGhpcy53aWR0aDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gb3B0Py5oZWlnaHQgPz8gdGhpcy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpID8/IHRoaXMuaGVpZ2h0O1xyXG4gICAgdGhpcy5saW5lV2lkdGggPSBvcHQ/LmxpbmVXaWR0aCA/PyBwYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgnbGluZVdpZHRoJykgPz8gdGhpcy5saW5lV2lkdGgudG9TdHJpbmcoKSk7XHJcbiAgICB0aGlzLmxpbmVXaWR0aE1pbiA9IG9wdD8ubGluZVdpZHRoTWluID8/IHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCdsaW5lV2lkdGhNaW4nKSA/PyB0aGlzLmxpbmVXaWR0aE1pbi50b1N0cmluZygpKTtcclxuICAgIHRoaXMubGluZVdpZHRoTWF4ID0gb3B0Py5saW5lV2lkdGhNYXggPz8gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoJ2xpbmVXaWR0aE1heCcpID8/IHRoaXMubGluZVdpZHRoTWF4LnRvU3RyaW5nKCkpO1xyXG4gICAgdGhpcy5jb2xvciA9IG9wdD8uY29sb3IgPz8gdGhpcy5nZXRBdHRyaWJ1dGUoJ2NvbG9yJykgPz8gdGhpcy5jb2xvcjtcclxuICAgIHRoaXMuaW1hZ2VOYW1lID0gb3B0Py5pbWFnZU5hbWUgPz8gdGhpcy5nZXRBdHRyaWJ1dGUoJ2ltYWdlTmFtZScpID8/IHRoaXMuaW1hZ2VOYW1lO1xyXG4gICAgdGhpcy5oYXNTbGlkZXIgPSBvcHQ/Lmhhc1NsaWRlciA/PyAodGhpcy5nZXRBdHRyaWJ1dGUoJ2hhc1NsaWRlcicpID8gKHRoaXMuZ2V0QXR0cmlidXRlKCdoYXNTbGlkZXInKSA9PSAndHJ1ZScpIDogdGhpcy5oYXNTbGlkZXIpO1xyXG4gICAgdGhpcy5oYXNDb2xvclBpY2tlciA9IG9wdD8uaGFzQ29sb3JQaWNrZXIgPz8gKHRoaXMuZ2V0QXR0cmlidXRlKCdoYXNDb2xvclBpY2tlcicpID8gKHRoaXMuZ2V0QXR0cmlidXRlKCdoYXNDb2xvclBpY2tlcicpID09ICd0cnVlJykgOiB0aGlzLmhhc0NvbG9yUGlja2VyKTtcclxuICAgIHRoaXMuaXNDbGVhcmFibGUgPSBvcHQ/LmlzQ2xlYXJhYmxlID8/ICh0aGlzLmdldEF0dHJpYnV0ZSgnaXNDbGVhcmFibGUnKSA/ICh0aGlzLmdldEF0dHJpYnV0ZSgnaXNDbGVhcmFibGUnKSA9PSAndHJ1ZScpIDogdGhpcy5pc0NsZWFyYWJsZSk7XHJcbiAgICB0aGlzLmlzRG93bmxvYWRhYmxlID0gb3B0Py5pc0Rvd25sb2FkYWJsZSA/PyAodGhpcy5nZXRBdHRyaWJ1dGUoJ2lzRG93bmxvYWRhYmxlJykgPyAodGhpcy5nZXRBdHRyaWJ1dGUoJ2lzRG93bmxvYWRhYmxlJykgPT0gJ3RydWUnKSA6IHRoaXMuaXNEb3dubG9hZGFibGUpO1xyXG4gICAgdGhpcy5pc1N0YXRlQ2hhbmdlYWJsZSA9IG9wdD8uaXNTdGF0ZUNoYW5nZWFibGUgPz8gKHRoaXMuZ2V0QXR0cmlidXRlKCdpc1N0YXRlQ2hhbmdlYWJsZScpID8gKHRoaXMuZ2V0QXR0cmlidXRlKCdpc1N0YXRlQ2hhbmdlYWJsZScpID09ICd0cnVlJykgOiB0aGlzLmlzU3RhdGVDaGFuZ2VhYmxlKTtcclxuXHJcbiAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcclxuICAgIHRoaXMud3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy53cmFwcGVyLmlkID0gJ3dyYXBwZXInO1xyXG5cclxuICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5saW5lV2lkdGgsIHRoaXMuY29sb3IsIHRoaXMuaW1hZ2VOYW1lKTtcclxuICAgIHRoaXMud3JhcHBlci5hcHBlbmQodGhpcy5jYW52YXMuZ2V0KCkpO1xyXG5cclxuICAgIHRoaXMuc2xpZGVyID0gbmV3IFNsaWRlcih0aGlzLmxpbmVXaWR0aE1pbiwgdGhpcy5saW5lV2lkdGhNYXgsIHRoaXMubGluZVdpZHRoLCAodikgPT4gdGhpcy5zZXRMaW5lV2lkdGgodikpO1xyXG4gICAgdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLnNsaWRlci5nZXQoKSk7XHJcblxyXG4gICAgdGhpcy5idG5Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuYnRuQ29udGFpbmVyLmlkID0gJ2J0bi1jb250YWluZXInO1xyXG5cclxuICAgIGNvbnN0IGJ0bkNvbnRhaW5lckxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuY2xlYXJCdG4gPSBuZXcgQnV0dG9uKCdjbGVhcicsICgpID0+IHRoaXMuY2xlYXIoKSk7XHJcbiAgICBidG5Db250YWluZXJMZWZ0LmFwcGVuZCh0aGlzLmNsZWFyQnRuLmdldCgpKTtcclxuICAgIHRoaXMuZG93bmxvYWRCdG4gPSBuZXcgQnV0dG9uKCdkb3dubG9hZCcsICgpID0+IHRoaXMuZG93bmxvYWQoKSk7XHJcbiAgICBidG5Db250YWluZXJMZWZ0LmFwcGVuZCh0aGlzLmRvd25sb2FkQnRuLmdldCgpKTtcclxuICAgIHRoaXMudW5kb0J0biA9IG5ldyBCdXR0b24oJ3VuZG8nLCAoKSA9PiB0aGlzLnVuZG8oKSk7XHJcbiAgICBidG5Db250YWluZXJMZWZ0LmFwcGVuZCh0aGlzLnVuZG9CdG4uZ2V0KCkpO1xyXG4gICAgdGhpcy5yZWRvQnRuID0gbmV3IEJ1dHRvbigncmVkbycsICgpID0+IHRoaXMucmVkbygpKTtcclxuICAgIGJ0bkNvbnRhaW5lckxlZnQuYXBwZW5kKHRoaXMucmVkb0J0bi5nZXQoKSk7XHJcbiAgICB0aGlzLmJ0bkNvbnRhaW5lci5hcHBlbmQoYnRuQ29udGFpbmVyTGVmdCk7XHJcblxyXG4gICAgY29uc3QgYnRuQ29udGFpbmVyUmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuY29sb3JQaWNrZXIgPSBuZXcgQ29sb3JQaWNrZXIodGhpcy5jb2xvciwgKHYpID0+IHRoaXMuc2V0Q29sb3IodikpO1xyXG4gICAgYnRuQ29udGFpbmVyUmlnaHQuYXBwZW5kKHRoaXMuY29sb3JQaWNrZXIuZ2V0KCkpO1xyXG4gICAgdGhpcy5idG5Db250YWluZXIuYXBwZW5kKGJ0bkNvbnRhaW5lclJpZ2h0KTtcclxuXHJcbiAgICB0aGlzLndyYXBwZXIuYXBwZW5kKHRoaXMuYnRuQ29udGFpbmVyKTtcclxuXHJcbiAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoZ2V0U3R5bGUoKSk7XHJcbiAgICBzaGFkb3cuYXBwZW5kKHRoaXMud3JhcHBlcik7XHJcblxyXG4gICAgdGhpcy5zZXRXaWR0aCh0aGlzLndpZHRoKTtcclxuXHJcbiAgICB0aGlzLnNldFZpc2liaWxpdHkodGhpcy5zbGlkZXIuZ2V0KCksIHRoaXMuaGFzU2xpZGVyKTtcclxuICAgIHRoaXMuc2V0VmlzaWJpbGl0eSh0aGlzLmNvbG9yUGlja2VyLmdldCgpLCB0aGlzLmhhc0NvbG9yUGlja2VyKTtcclxuICAgIHRoaXMuc2V0VmlzaWJpbGl0eSh0aGlzLmNsZWFyQnRuLmdldCgpLCB0aGlzLmlzQ2xlYXJhYmxlKTtcclxuICAgIHRoaXMuc2V0VmlzaWJpbGl0eSh0aGlzLmRvd25sb2FkQnRuLmdldCgpLCB0aGlzLmlzRG93bmxvYWRhYmxlKTtcclxuICAgIHRoaXMuc2V0VmlzaWJpbGl0eSh0aGlzLnJlZG9CdG4uZ2V0KCksIHRoaXMuaXNTdGF0ZUNoYW5nZWFibGUpO1xyXG4gICAgdGhpcy5zZXRWaXNpYmlsaXR5KHRoaXMudW5kb0J0bi5nZXQoKSwgdGhpcy5pc1N0YXRlQ2hhbmdlYWJsZSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0V2lkdGgod2lkdGg6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdGhpcy5jYW52YXMuc2V0V2lkdGgod2lkdGgpO1xyXG4gICAgdGhpcy53cmFwcGVyLnN0eWxlLndpZHRoID0gd2lkdGg7XHJcbiAgICB0aGlzLmJ0bkNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHdpZHRoO1xyXG4gICAgdGhpcy5zbGlkZXIuZ2V0KCkuc3R5bGUud2lkdGggPSB3aWR0aDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRIZWlnaHQoaGVpZ2h0OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLnNldEhlaWdodChoZWlnaHQpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldExpbmVXaWR0aChsaW5lV2lkdGg6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5jYW52YXMuc2V0TGluZVdpZHRoKGxpbmVXaWR0aCk7XHJcbiAgICB0aGlzLnNsaWRlci5zZXRWYWx1ZShsaW5lV2lkdGgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldExpbmVXaWR0aE1pbihsaW5lV2lkdGg6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5zbGlkZXIuc2V0TWluVmFsdWUobGluZVdpZHRoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRMaW5lV2lkdGhNYXgobGluZVdpZHRoOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuc2xpZGVyLnNldE1heFZhbHVlKGxpbmVXaWR0aCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0Q29sb3IoY29sb3I6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdGhpcy5jYW52YXMuc2V0Q29sb3IoY29sb3IpO1xyXG4gICAgdGhpcy5jb2xvclBpY2tlci5zZXRDb2xvcihjb2xvcik7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0SW1hZ2VOYW1lKG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdGhpcy5jYW52YXMuc2V0SW1hZ2VOYW1lKG5hbWUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFNsaWRlcihpc1Zpc2libGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuc2V0VmlzaWJpbGl0eSh0aGlzLnNsaWRlci5nZXQoKSwgaXNWaXNpYmxlKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRDb2xvclBpY2tlcihpc1Zpc2libGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuc2V0VmlzaWJpbGl0eSh0aGlzLmNvbG9yUGlja2VyLmdldCgpLCBpc1Zpc2libGUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldENsZWFyYWJsZShpc1Zpc2libGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuc2V0VmlzaWJpbGl0eSh0aGlzLmNsZWFyQnRuLmdldCgpLCBpc1Zpc2libGUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldERvd25sb2FkYWJsZShpc1Zpc2libGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuc2V0VmlzaWJpbGl0eSh0aGlzLmRvd25sb2FkQnRuLmdldCgpLCBpc1Zpc2libGUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFN0YXRlQ2hhbmdlYWJsZShpc1Zpc2libGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuc2V0VmlzaWJpbGl0eSh0aGlzLnJlZG9CdG4uZ2V0KCksIGlzVmlzaWJsZSk7XHJcbiAgICB0aGlzLnNldFZpc2liaWxpdHkodGhpcy51bmRvQnRuLmdldCgpLCBpc1Zpc2libGUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRWaXNpYmlsaXR5KGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBpc1Zpc2libGU6IGJvb2xlYW4sKSB7XHJcbiAgICBpZiAoaXNWaXNpYmxlKSB7XHJcbiAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jYW52YXMuY2xlYXIoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkb3dubG9hZCgpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLmRvd25sb2FkKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdW5kbygpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLnVuZG8oKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZWRvKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jYW52YXMucmVkbygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldERhdGFVUkwoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmNhbnZhcy5nZXQoKS50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldEJsb2IoY2FsbGJhY2s6IEJsb2JDYWxsYmFjaywgdHlwZT86IHN0cmluZyB8IHVuZGVmaW5lZCwgcXVhbGl0eT86IG51bWJlcik6IHZvaWQge1xyXG4gICAgcmV0dXJuIHRoaXMuY2FudmFzLmdldCgpLnRvQmxvYihjYWxsYmFjaywgdHlwZSwgcXVhbGl0eSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lOiBzdHJpbmcsIG9sZFZhbHVlOiBzdHJpbmcsIG5ld1ZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHN3aXRjaCAobmFtZSkge1xyXG4gICAgICBjYXNlICd3aWR0aCc6XHJcbiAgICAgICAgdGhpcy5zZXRXaWR0aChuZXdWYWx1ZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2hlaWdodCc6XHJcbiAgICAgICAgdGhpcy5zZXRIZWlnaHQobmV3VmFsdWUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdsaW5ld2lkdGgnOlxyXG4gICAgICAgIHRoaXMuc2V0TGluZVdpZHRoKHBhcnNlSW50KG5ld1ZhbHVlKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2xpbmV3aWR0aG1pbic6XHJcbiAgICAgICAgdGhpcy5zZXRMaW5lV2lkdGhNaW4ocGFyc2VJbnQobmV3VmFsdWUpKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnbGluZXdpZHRobWF4JzpcclxuICAgICAgICB0aGlzLnNldExpbmVXaWR0aE1heChwYXJzZUludChuZXdWYWx1ZSkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdjb2xvcic6XHJcbiAgICAgICAgdGhpcy5zZXRDb2xvcihuZXdWYWx1ZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2ltYWdlbmFtZSc6XHJcbiAgICAgICAgdGhpcy5zZXRJbWFnZU5hbWUobmV3VmFsdWUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdoYXNzbGlkZXInOlxyXG4gICAgICAgIHRoaXMuc2V0U2xpZGVyKG5ld1ZhbHVlID09ICd0cnVlJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2hhc2NvbG9ycGlja2VyJzpcclxuICAgICAgICB0aGlzLnNldENvbG9yUGlja2VyKG5ld1ZhbHVlID09ICd0cnVlJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2lzY2xlYXJhYmxlJzpcclxuICAgICAgICB0aGlzLnNldENsZWFyYWJsZShuZXdWYWx1ZSA9PSAndHJ1ZScpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdpc2Rvd25sb2FkYWJsZSc6XHJcbiAgICAgICAgdGhpcy5zZXREb3dubG9hZGFibGUobmV3VmFsdWUgPT0gJ3RydWUnKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnaXNzdGF0ZWNoYW5nZWFibGUnOlxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGVDaGFuZ2VhYmxlKG5ld1ZhbHVlID09ICd0cnVlJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcclxuICAgIHJldHVybiBbJ3dpZHRoJywgJ2hlaWdodCcsICdsaW5ld2lkdGgnLCAnbGluZXdpZHRobWluJywgJ2xpbmV3aWR0aG1heCcsICdjb2xvcicsICdpbWFnZW5hbWUnLFxyXG4gICAgICAnaGFzc2xpZGVyJywgJ2hhc2NvbG9ycGlja2VyJywgJ2lzY2xlYXJhYmxlJywgJ2lzZG93bmxvYWRhYmxlJywgJ2lzc3RhdGVjaGFuZ2VhYmxlJ107XHJcbiAgfVxyXG59XHJcblxyXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3BhaW50LXBhZCcsIFBhaW50UGFkKTtcclxuIiwiZXhwb3J0IGNsYXNzIFNsaWRlciB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBzbGlkZXI6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgdmFsdWU6IG51bWJlciwgb25DaGFuZ2U6ICh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkKSB7XHJcbiAgICB0aGlzLnNsaWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICB0aGlzLnNsaWRlci50eXBlID0gJ3JhbmdlJztcclxuICAgIHRoaXMuc2xpZGVyLm1pbiA9IG1pbi50b1N0cmluZygpO1xyXG4gICAgdGhpcy5zbGlkZXIubWF4ID0gbWF4LnRvU3RyaW5nKCk7XHJcbiAgICB0aGlzLnNsaWRlci52YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICB0aGlzLnNsaWRlci50aXRsZSA9IHRoaXMuc2xpZGVyLnZhbHVlO1xyXG4gICAgdGhpcy5zbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gb25DaGFuZ2UocGFyc2VJbnQodGhpcy5zbGlkZXIudmFsdWUpKSk7XHJcbiAgICB0aGlzLnNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB0aGlzLnNsaWRlci50aXRsZSA9IHRoaXMuc2xpZGVyLnZhbHVlKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQoKTogSFRNTElucHV0RWxlbWVudCB7XHJcbiAgICByZXR1cm4gdGhpcy5zbGlkZXI7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0VmFsdWUodmFsdWU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5zbGlkZXIudmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldE1pblZhbHVlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuc2xpZGVyLm1pbiA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0TWF4VmFsdWUodmFsdWU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5zbGlkZXIubWF4ID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGUoKTogSFRNTFN0eWxlRWxlbWVudCB7XHJcbiAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG4gIHN0eWxlLmlubmVySFRNTCA9IGBcclxuICAgICN3cmFwcGVyIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBjYW52YXMge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgICBib3JkZXI6IDJweCBzb2xpZCAjZDNkM2QzO1xyXG4gICAgfVxyXG5cclxuICAgICNidG4tY29udGFpbmVyIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICBtYXJnaW4tdG9wOiA2cHg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGJ1dHRvbiB7XHJcbiAgICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgcGFkZGluZzogMDtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgYnV0dG9uOmhvdmVyIHtcclxuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM0NDQ7XHJcbiAgICAgIHRyYW5zaXRpb246IGFsbCAxcyBlYXNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpbnB1dFt0eXBlPVwicmFuZ2VcIl0ge1xyXG4gICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XHJcbiAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICBiYWNrZ3JvdW5kOiAjNDQ0O1xyXG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgICBvcGFjaXR5OiAwLjc7XHJcbiAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgLjJzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpbnB1dFt0eXBlPVwicmFuZ2VcIl06aG92ZXIge1xyXG4gICAgICBvcGFjaXR5OiAxO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpbnB1dFt0eXBlPVwicmFuZ2VcIl06Oi13ZWJraXQtc2xpZGVyLXRodW1iIHtcclxuICAgICAgYXBwZWFyYW5jZTogbm9uZTtcclxuICAgICAgd2lkdGg6IDEwcHg7XHJcbiAgICAgIGhlaWdodDogMTBweDtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgYmFja2dyb3VuZDogI2ZmZjtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICB6LWluZGV4OiAxO1xyXG4gICAgfVxyXG5cclxuICAgIGlucHV0W3R5cGU9XCJyYW5nZVwiXTo6LW1vei1yYW5nZS10aHVtYiB7XHJcbiAgICAgIHdpZHRoOiA4cHg7XHJcbiAgICAgIGhlaWdodDogOHB4O1xyXG4gICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIHotaW5kZXg6IDE7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXRbdHlwZT1cImNvbG9yXCJdIHtcclxuICAgICAgd2lkdGg6IDIwcHg7XHJcbiAgICAgIGhlaWdodDogMjBweDtcclxuICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dFt0eXBlPVwiY29sb3JcIl06aG92ZXIge1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzQ0NDtcclxuICAgICAgdHJhbnNpdGlvbjogYWxsIDFzIGVhc2U7XHJcbiAgICB9XHJcbiAgICBgO1xyXG4gIHJldHVybiBzdHlsZTtcclxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJleHBvcnQgeyBQYWludFBhZCB9IGZyb20gJy4vcGFpbnRwYWQnO1xyXG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJ0aGlzIiwic3ZnIiwiY29uc3RydWN0b3IiLCJhY3Rpb24iLCJvbkNsaWNrIiwiYnV0dG9uIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwidGl0bGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0Iiwid2lkdGgiLCJoZWlnaHQiLCJsaW5lV2lkdGgiLCJjb2xvciIsImltYWdlTmFtZSIsImlzUGFpbnRpbmciLCJwYWludGluZ3MiLCJjdXJyZW50SW5kZXgiLCJjYW52YXMiLCJzZXRBdHRyaWJ1dGUiLCJlIiwicHJldmVudERlZmF1bHQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsIm9uTW91c2VEb3duIiwiYmluZCIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZVVwIiwib25Nb3VzZUxlYXZlIiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwic2V0TGluZVdpZHRoIiwic2V0Q29sb3IiLCJjbGVhciIsImNsZWFyUmVjdCIsImRvd25sb2FkIiwibGluayIsImhyZWYiLCJ0b0RhdGFVUkwiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwidW5kbyIsInJlcGFpbnQiLCJyZWRvIiwiZ2V0TGFzdFBhaW50aW5nSW5kZXgiLCJzZXRXaWR0aCIsInNldEhlaWdodCIsInNldEltYWdlTmFtZSIsIm5hbWUiLCJhZGRQYWludGluZyIsIngiLCJ5IiwiaXNEcmFnZ2luZyIsInB1c2giLCJpbmRleCIsImN0eCIsImxpbmVKb2luIiwibGVuZ3RoIiwicGFpbnRpbmciLCJiZWdpblBhdGgiLCJwcmV2UGFpbnRpbmciLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsIm9uUGFpbnRFbmQiLCJvblBhaW50U3RhcnQiLCJjbGllbnRYIiwiY2xpZW50WSIsIm9uUGFpbnRNb3ZlIiwidG91Y2hlcyIsImZpbHRlciIsImQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwidG9wIiwib25DaGFuZ2UiLCJjb2xvclBpY2tlciIsInR5cGUiLCJ2YWx1ZSIsIlBhaW50UGFkIiwiSFRNTEVsZW1lbnQiLCJvcHQiLCJzdXBlciIsImxpbmVXaWR0aE1pbiIsImxpbmVXaWR0aE1heCIsImhhc1NsaWRlciIsImhhc0NvbG9yUGlja2VyIiwiaXNDbGVhcmFibGUiLCJpc0Rvd25sb2FkYWJsZSIsImlzU3RhdGVDaGFuZ2VhYmxlIiwiZ2V0QXR0cmlidXRlIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsInNoYWRvdyIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJ3cmFwcGVyIiwiaWQiLCJDYW52YXMiLCJhcHBlbmQiLCJzbGlkZXIiLCJTbGlkZXIiLCJ2IiwiYnRuQ29udGFpbmVyIiwiYnRuQ29udGFpbmVyTGVmdCIsImNsZWFyQnRuIiwiQnV0dG9uIiwiZG93bmxvYWRCdG4iLCJ1bmRvQnRuIiwicmVkb0J0biIsImJ0bkNvbnRhaW5lclJpZ2h0IiwiQ29sb3JQaWNrZXIiLCJnZXRTdHlsZSIsInNldFZpc2liaWxpdHkiLCJzdHlsZSIsInNldFZhbHVlIiwic2V0TGluZVdpZHRoTWluIiwic2V0TWluVmFsdWUiLCJzZXRMaW5lV2lkdGhNYXgiLCJzZXRNYXhWYWx1ZSIsInNldFNsaWRlciIsImlzVmlzaWJsZSIsInNldENvbG9yUGlja2VyIiwic2V0Q2xlYXJhYmxlIiwic2V0RG93bmxvYWRhYmxlIiwic2V0U3RhdGVDaGFuZ2VhYmxlIiwiZWxlbWVudCIsImRpc3BsYXkiLCJnZXREYXRhVVJMIiwiZ2V0QmxvYiIsImNhbGxiYWNrIiwicXVhbGl0eSIsInRvQmxvYiIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJjdXN0b21FbGVtZW50cyIsIm1pbiIsIm1heCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iXSwic291cmNlUm9vdCI6IiJ9