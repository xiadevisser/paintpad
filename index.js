!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(this,(function(){return(()=>{"use strict";var t={881:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const i={undo:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rotate-ccw"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rotate-cw"><polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg>',clear:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'};e.Button=class{constructor(t,e){this.button=document.createElement("button"),this.button.innerHTML=i[t],this.button.title=t,this.button.addEventListener("click",e)}get(){return this.button}}},235:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Canvas=void 0,e.Canvas=class{constructor(t,e,i,n,s){this.isPainting=!1,this.paintings=[],this.currentIndex=0,this.lineWidth=i,this.color=n,this.imageName=s,this.canvas=document.createElement("canvas"),this.canvas.setAttribute("width",t),this.canvas.setAttribute("height",e),this.canvas.addEventListener("contextmenu",(t=>t.preventDefault())),this.context=this.canvas.getContext("2d"),this.canvas.addEventListener("mousedown",this.onMouseDown.bind(this)),this.canvas.addEventListener("mousemove",this.onMouseMove.bind(this)),this.canvas.addEventListener("mouseup",this.onMouseUp.bind(this)),this.canvas.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.canvas.addEventListener("touchstart",this.onTouchStart.bind(this)),this.canvas.addEventListener("touchmove",this.onTouchMove.bind(this)),this.canvas.addEventListener("touchend",this.onTouchEnd.bind(this))}get(){return this.canvas}setLineWidth(t){this.lineWidth=t}setColor(t){this.color=t}clear(){null!=this.context&&(this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.paintings=[])}download(){const t=document.createElement("a");t.href=this.canvas.toDataURL("image/png"),t.download=this.imageName,document.body.appendChild(t),t.click(),document.body.removeChild(t)}undo(){this.currentIndex>0&&this.currentIndex--,this.repaint()}redo(){this.currentIndex<this.getLastPaintingIndex()&&this.currentIndex++,this.repaint()}setWidth(t){this.canvas.setAttribute("width",t),this.repaint()}setHeight(t){this.canvas.setAttribute("height",t),this.repaint()}setImageName(t){this.imageName=t}addPainting(t,e,i){this.paintings.push({x:t,y:e,isDragging:i,color:this.color,lineWidth:this.lineWidth,index:this.currentIndex})}repaint(){if(null!=this.context){const t=this.context;t.clearRect(0,0,t.canvas.width,t.canvas.height),t.lineJoin="round";for(let e=0;e<this.paintings.length;e++){const i=this.paintings[e];if(i.index<=this.currentIndex){if(t.beginPath(),i.isDragging){const i=this.paintings[e-1];t.moveTo(i.x,i.y)}else t.moveTo(i.x-1,i.y);t.lineTo(i.x,i.y),t.closePath(),t.strokeStyle=i.color,t.lineWidth=i.lineWidth,t.stroke()}}}}getLastPaintingIndex(){return this.paintings.length>0?this.paintings[this.paintings.length-1].index:0}onMouseUp(){this.onPaintEnd()}onMouseLeave(){this.onPaintEnd()}onMouseDown(t){0==t.button&&this.onPaintStart(t.clientX,t.clientY)}onMouseMove(t){this.onPaintMove(t.clientX,t.clientY)}onTouchEnd(){this.onPaintEnd()}onTouchStart(t){this.onPaintStart(t.touches[0].clientX,t.touches[0].clientY)}onTouchMove(t){this.onPaintMove(t.touches[0].clientX,t.touches[0].clientY)}onPaintStart(t,e){this.isPainting=!0,this.currentIndex<this.getLastPaintingIndex()&&(this.paintings=this.paintings.filter((t=>t.index<=this.currentIndex)));const i=t-this.canvas.getBoundingClientRect().left,n=e-this.canvas.getBoundingClientRect().top;this.currentIndex++,this.addPainting(i,n,!1),this.repaint()}onPaintMove(t,e){if(this.isPainting){const i=t-this.canvas.getBoundingClientRect().left,n=e-this.canvas.getBoundingClientRect().top;this.addPainting(i,n,!0),this.repaint()}}onPaintEnd(){this.isPainting=!1}}},994:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPicker=void 0,e.ColorPicker=class{constructor(t,e){this.colorPicker=document.createElement("input"),this.colorPicker.type="color",this.colorPicker.value=t,this.colorPicker.addEventListener("change",(()=>e(this.colorPicker.value)))}get(){return this.colorPicker}setColor(t){this.colorPicker.value=t}}},505:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PaintPad=void 0;const n=i(881),s=i(235),a=i(994),o=i(943),r=i(331);class h extends HTMLElement{constructor(t){var e,i,h,l,d,c,u,g,p,v,b,w,m,x,k,y,P,C,f;super(),this.width="500px",this.height="500px",this.lineWidth=10,this.lineWidthMin=1,this.lineWidthMax=30,this.color="#000000",this.imageName="paintpad",this.hasSlider=!0,this.hasColorPicker=!0,this.isClearable=!0,this.isDownloadable=!0,this.isStateChangeable=!0,this.width=null!==(i=null!==(e=null==t?void 0:t.width)&&void 0!==e?e:this.getAttribute("width"))&&void 0!==i?i:this.width,this.height=null!==(l=null!==(h=null==t?void 0:t.height)&&void 0!==h?h:this.getAttribute("height"))&&void 0!==l?l:this.height,this.lineWidth=null!==(d=null==t?void 0:t.lineWidth)&&void 0!==d?d:parseInt(null!==(c=this.getAttribute("lineWidth"))&&void 0!==c?c:this.lineWidth.toString()),this.lineWidthMin=null!==(u=null==t?void 0:t.lineWidthMin)&&void 0!==u?u:parseInt(null!==(g=this.getAttribute("lineWidthMin"))&&void 0!==g?g:this.lineWidthMin.toString()),this.lineWidthMax=null!==(p=null==t?void 0:t.lineWidthMax)&&void 0!==p?p:parseInt(null!==(v=this.getAttribute("lineWidthMax"))&&void 0!==v?v:this.lineWidthMax.toString()),this.color=null!==(w=null!==(b=null==t?void 0:t.color)&&void 0!==b?b:this.getAttribute("color"))&&void 0!==w?w:this.color,this.imageName=null!==(x=null!==(m=null==t?void 0:t.imageName)&&void 0!==m?m:this.getAttribute("imageName"))&&void 0!==x?x:this.imageName,this.hasSlider=null!==(k=null==t?void 0:t.hasSlider)&&void 0!==k?k:this.getAttribute("hasSlider")?"true"==this.getAttribute("hasSlider"):this.hasSlider,this.hasColorPicker=null!==(y=null==t?void 0:t.hasColorPicker)&&void 0!==y?y:this.getAttribute("hasColorPicker")?"true"==this.getAttribute("hasColorPicker"):this.hasColorPicker,this.isClearable=null!==(P=null==t?void 0:t.isClearable)&&void 0!==P?P:this.getAttribute("isClearable")?"true"==this.getAttribute("isClearable"):this.isClearable,this.isDownloadable=null!==(C=null==t?void 0:t.isDownloadable)&&void 0!==C?C:this.getAttribute("isDownloadable")?"true"==this.getAttribute("isDownloadable"):this.isDownloadable,this.isStateChangeable=null!==(f=null==t?void 0:t.isStateChangeable)&&void 0!==f?f:this.getAttribute("isStateChangeable")?"true"==this.getAttribute("isStateChangeable"):this.isStateChangeable;const M=this.attachShadow({mode:"open"});this.wrapper=document.createElement("div"),this.wrapper.id="wrapper",this.canvas=new s.Canvas(this.width,this.height,this.lineWidth,this.color,this.imageName),this.wrapper.append(this.canvas.get()),this.slider=new o.Slider(this.lineWidthMin,this.lineWidthMax,this.lineWidth,(t=>this.setLineWidth(t))),this.wrapper.append(this.slider.get()),this.btnContainer=document.createElement("div"),this.btnContainer.id="btn-container";const S=document.createElement("div");this.clearBtn=new n.Button("clear",(()=>this.clear())),S.append(this.clearBtn.get()),this.downloadBtn=new n.Button("download",(()=>this.download())),S.append(this.downloadBtn.get()),this.undoBtn=new n.Button("undo",(()=>this.undo())),S.append(this.undoBtn.get()),this.redoBtn=new n.Button("redo",(()=>this.redo())),S.append(this.redoBtn.get()),this.btnContainer.append(S);const W=document.createElement("div");this.colorPicker=new a.ColorPicker(this.color,(t=>this.setColor(t))),W.append(this.colorPicker.get()),this.btnContainer.append(W),this.wrapper.append(this.btnContainer),M.appendChild((0,r.getStyle)()),M.append(this.wrapper),this.setWidth(this.width),this.setVisibility(this.slider.get(),this.hasSlider),this.setVisibility(this.colorPicker.get(),this.hasColorPicker),this.setVisibility(this.clearBtn.get(),this.isClearable),this.setVisibility(this.downloadBtn.get(),this.isDownloadable),this.setVisibility(this.redoBtn.get(),this.isStateChangeable),this.setVisibility(this.undoBtn.get(),this.isStateChangeable)}setWidth(t){this.canvas.setWidth(t),this.wrapper.style.width=t,this.btnContainer.style.width=t,this.slider.get().style.width=t}setHeight(t){this.canvas.setHeight(t)}setLineWidth(t){this.canvas.setLineWidth(t),this.slider.setValue(t)}setLineWidthMin(t){this.slider.setMinValue(t)}setLineWidthMax(t){this.slider.setMaxValue(t)}setColor(t){this.canvas.setColor(t),this.colorPicker.setColor(t)}setImageName(t){this.canvas.setImageName(t)}setSlider(t){this.setVisibility(this.slider.get(),t)}setColorPicker(t){this.setVisibility(this.colorPicker.get(),t)}setClearable(t){this.setVisibility(this.clearBtn.get(),t)}setDownloadable(t){this.setVisibility(this.downloadBtn.get(),t)}setStateChangeable(t){this.setVisibility(this.redoBtn.get(),t),this.setVisibility(this.undoBtn.get(),t)}setVisibility(t,e){t.style.display=e?"inline-block":"none"}clear(){this.canvas.clear()}download(){this.canvas.download()}undo(){this.canvas.undo()}redo(){this.canvas.redo()}getDataURL(){return this.canvas.get().toDataURL("image/png")}getBlob(t,e,i){return this.canvas.get().toBlob(t,e,i)}attributeChangedCallback(t,e,i){switch(t){case"width":this.setWidth(i);break;case"height":this.setHeight(i);break;case"linewidth":this.setLineWidth(parseInt(i));break;case"linewidthmin":this.setLineWidthMin(parseInt(i));break;case"linewidthmax":this.setLineWidthMax(parseInt(i));break;case"color":this.setColor(i);break;case"imagename":this.setImageName(i);break;case"hasslider":this.setSlider("true"==i);break;case"hascolorpicker":this.setColorPicker("true"==i);break;case"isclearable":this.setClearable("true"==i);break;case"isdownloadable":this.setDownloadable("true"==i);break;case"isstatechangeable":this.setStateChangeable("true"==i)}}static get observedAttributes(){return["width","height","linewidth","linewidthmin","linewidthmax","color","imagename","hasslider","hascolorpicker","isclearable","isdownloadable","isstatechangeable"]}}e.PaintPad=h,customElements.define("paint-pad",h)},943:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0,e.Slider=class{constructor(t,e,i,n){this.slider=document.createElement("input"),this.slider.type="range",this.slider.min=t.toString(),this.slider.max=e.toString(),this.slider.value=i.toString(),this.slider.title=this.slider.value,this.slider.addEventListener("change",(()=>n(parseInt(this.slider.value)))),this.slider.addEventListener("change",(()=>this.slider.title=this.slider.value))}get(){return this.slider}setValue(t){this.slider.value=t.toString()}setMinValue(t){this.slider.min=t.toString()}setMaxValue(t){this.slider.max=t.toString()}}},331:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getStyle=void 0,e.getStyle=function(){const t=document.createElement("style");return t.innerHTML='\n    #wrapper {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n\n    canvas {\n      background-color: #fff;\n      border: 2px solid #d3d3d3;\n    }\n\n    #btn-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-top: 6px;\n    }\n    \n    button {\n      width: 20px;\n      height: 20px;\n      background: none;\n      border: none;\n      padding: 0;\n      cursor: pointer;\n      border-bottom: 1px solid transparent;\n    }\n\n    button:hover {\n      border-bottom: 1px solid #444;\n      transition: all 1s ease;\n    }\n    \n    input[type="range"] {\n      -webkit-appearance: none;\n      height: 2px;\n      background: #444;\n      margin-top: 10px;\n      opacity: 0.7;\n      transition: opacity .2s;\n    }\n    \n    input[type="range"]:hover {\n      opacity: 1;\n    }\n    \n    input[type="range"]::-webkit-slider-thumb {\n      appearance: none;\n      width: 10px;\n      height: 10px;\n      border-radius: 50%;\n      border: 1px solid black;\n      background: #fff;\n      cursor: pointer;\n      z-index: 1;\n    }\n\n    input[type="range"]::-moz-range-thumb {\n      width: 8px;\n      height: 8px;\n      border-radius: 50%;\n      border: 1px solid black;\n      cursor: pointer;\n      z-index: 1;\n    }\n\n    input[type="color"] {\n      width: 20px;\n      height: 20px;\n      border: none;\n      background: none;\n      padding: 0;\n      cursor: pointer;\n      border-bottom: 1px solid transparent;\n    }\n\n    input[type="color"]:hover {\n      border-bottom: 1px solid #444;\n      transition: all 1s ease;\n    }\n    ',t}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,i),a.exports}var n={};return(()=>{var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.PaintPad=void 0;var e=i(505);Object.defineProperty(t,"PaintPad",{enumerable:!0,get:function(){return e.PaintPad}})})(),n})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVFULEtBQUsyRyxPQUFPdEIsUUFHeEUxRSxNQUNMLE9BQU9YLEtBQUsyRyxPQUdQZSxTQUFTckMsR0FDZHJGLEtBQUsyRyxPQUFPdEIsTUFBUUEsRUFBTWMsV0FHckJ5QixZQUFZdkMsR0FDakJyRixLQUFLMkcsT0FBT3NDLElBQU01RCxFQUFNYyxXQUduQjJCLFlBQVl6QyxHQUNqQnJGLEtBQUsyRyxPQUFPdUMsSUFBTTdELEVBQU1jLGMsK0VDM0I1QixzQkFDRSxNQUFNc0IsRUFBUW5ILFNBQVNDLGNBQWMsU0FtRnJDLE9BbEZBa0gsRUFBTWpILFVBQVksZ3BEQWtGWGlILEtDbkZMMEIsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYTVKLFFBR3JCLElBQUlDLEVBQVN3SixFQUF5QkUsR0FBWSxDQUdqRDNKLFFBQVMsSUFPVixPQUhBOEosRUFBb0JILEdBQVUxSixFQUFRQSxFQUFPRCxRQUFTMEosR0FHL0N6SixFQUFPRCxRLGdHQ3JCZixhQUFTLDBFQUFBNEYsYSIsInNvdXJjZXMiOlsid2VicGFjazovL3BhaW50cGFkL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9wYWludHBhZC8uL3NyYy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vcGFpbnRwYWQvLi9zcmMvY2FudmFzLnRzIiwid2VicGFjazovL3BhaW50cGFkLy4vc3JjL2NvbG9ycGlja2VyLnRzIiwid2VicGFjazovL3BhaW50cGFkLy4vc3JjL3BhaW50cGFkLnRzIiwid2VicGFjazovL3BhaW50cGFkLy4vc3JjL3NsaWRlci50cyIsIndlYnBhY2s6Ly9wYWludHBhZC8uL3NyYy9zdHlsZS50cyIsIndlYnBhY2s6Ly9wYWludHBhZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wYWludHBhZC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiY29uc3Qgc3ZnOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xyXG4gICd1bmRvJzogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLXJvdGF0ZS1jY3dcIj48cG9seWxpbmUgcG9pbnRzPVwiMSA0IDEgMTAgNyAxMFwiPjwvcG9seWxpbmU+PHBhdGggZD1cIk0zLjUxIDE1YTkgOSAwIDEgMCAyLjEzLTkuMzZMMSAxMFwiPjwvcGF0aD48L3N2Zz4nLFxyXG4gICdyZWRvJzogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLXJvdGF0ZS1jd1wiPjxwb2x5bGluZSBwb2ludHM9XCIyMyA0IDIzIDEwIDE3IDEwXCI+PC9wb2x5bGluZT48cGF0aCBkPVwiTTIwLjQ5IDE1YTkgOSAwIDEgMS0yLjEyLTkuMzZMMjMgMTBcIj48L3BhdGg+PC9zdmc+JyxcclxuICAnY2xlYXInOiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjEyXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXIteC1jaXJjbGVcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCI+PC9jaXJjbGU+PGxpbmUgeDE9XCIxNVwiIHkxPVwiOVwiIHgyPVwiOVwiIHkyPVwiMTVcIj48L2xpbmU+PGxpbmUgeDE9XCI5XCIgeTE9XCI5XCIgeDI9XCIxNVwiIHkyPVwiMTVcIj48L2xpbmU+PC9zdmc+JyxcclxuICAnZG93bmxvYWQnOiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjEyXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItZG93bmxvYWRcIj48cGF0aCBkPVwiTTIxIDE1djRhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJ2LTRcIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz1cIjcgMTAgMTIgMTUgMTcgMTBcIj48L3BvbHlsaW5lPjxsaW5lIHgxPVwiMTJcIiB5MT1cIjE1XCIgeDI9XCIxMlwiIHkyPVwiM1wiPjwvbGluZT48L3N2Zz4nXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQnV0dG9uIHtcclxuICBwcml2YXRlIHJlYWRvbmx5IGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGFjdGlvbjogc3RyaW5nLCBvbkNsaWNrOiAoZTogTW91c2VFdmVudCkgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIHRoaXMuYnV0dG9uLmlubmVySFRNTCA9IHN2Z1thY3Rpb25dO1xyXG4gICAgdGhpcy5idXR0b24udGl0bGUgPSBhY3Rpb247XHJcbiAgICB0aGlzLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCgpOiBIVE1MQnV0dG9uRWxlbWVudCB7XHJcbiAgICByZXR1cm4gdGhpcy5idXR0b247XHJcbiAgfVxyXG59IiwidHlwZSBQYWludGluZyA9IHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG4gIGlzRHJhZ2dpbmc6IGJvb2xlYW47XHJcbiAgY29sb3I6IHN0cmluZztcclxuICBsaW5lV2lkdGg6IG51bWJlcjtcclxuICBpbmRleDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FudmFzIHtcclxuICBwcml2YXRlIHJlYWRvbmx5IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsO1xyXG5cclxuICBwcml2YXRlIGlzUGFpbnRpbmcgPSBmYWxzZTtcclxuICBwcml2YXRlIHBhaW50aW5nczogUGFpbnRpbmdbXSA9IFtdO1xyXG4gIHByaXZhdGUgY3VycmVudEluZGV4ID0gMDtcclxuICBwcml2YXRlIGNvbG9yOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBsaW5lV2lkdGg6IG51bWJlcjtcclxuICBwcml2YXRlIGltYWdlTmFtZTogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih3aWR0aDogc3RyaW5nLCBoZWlnaHQ6IHN0cmluZywgbGluZVdpZHRoOiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIGltYWdlTmFtZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIHRoaXMuaW1hZ2VOYW1lID0gaW1hZ2VOYW1lO1xyXG5cclxuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBlID0+IGUucHJldmVudERlZmF1bHQoKSk7XHJcbiAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlLmJpbmQodGhpcykpO1xyXG5cclxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hTdGFydC5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZC5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQoKTogSFRNTENhbnZhc0VsZW1lbnQge1xyXG4gICAgcmV0dXJuIHRoaXMuY2FudmFzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldExpbmVXaWR0aChsaW5lV2lkdGg6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0Q29sb3IoY29sb3I6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY29udGV4dCAhPSBudWxsKSB7XHJcbiAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgIHRoaXMucGFpbnRpbmdzID0gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZG93bmxvYWQoKTogdm9pZCB7XHJcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgbGluay5ocmVmID0gdGhpcy5jYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcclxuICAgIGxpbmsuZG93bmxvYWQgPSB0aGlzLmltYWdlTmFtZTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICBsaW5rLmNsaWNrKCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVuZG8oKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPiAwKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEluZGV4LS07XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlcGFpbnQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZWRvKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEluZGV4IDwgdGhpcy5nZXRMYXN0UGFpbnRpbmdJbmRleCgpKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEluZGV4Kys7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlcGFpbnQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRXaWR0aCh3aWR0aDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgdGhpcy5yZXBhaW50KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0SGVpZ2h0KGhlaWdodDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCk7XHJcbiAgICB0aGlzLnJlcGFpbnQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRJbWFnZU5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLmltYWdlTmFtZSA9IG5hbWU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZFBhaW50aW5nKHg6IG51bWJlciwgeTogbnVtYmVyLCBpc0RyYWdnaW5nOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLnBhaW50aW5ncy5wdXNoKHtcclxuICAgICAgeDogeCxcclxuICAgICAgeTogeSxcclxuICAgICAgaXNEcmFnZ2luZzogaXNEcmFnZ2luZyxcclxuICAgICAgY29sb3I6IHRoaXMuY29sb3IsXHJcbiAgICAgIGxpbmVXaWR0aDogdGhpcy5saW5lV2lkdGgsXHJcbiAgICAgIGluZGV4OiB0aGlzLmN1cnJlbnRJbmRleFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlcGFpbnQoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jb250ZXh0ICE9IG51bGwpIHtcclxuICAgICAgY29uc3QgY3R4ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgY3R4LmxpbmVKb2luID0gJ3JvdW5kJztcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYWludGluZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBwYWludGluZyA9IHRoaXMucGFpbnRpbmdzW2ldO1xyXG4gICAgICAgIGlmIChwYWludGluZy5pbmRleCA8PSB0aGlzLmN1cnJlbnRJbmRleCkge1xyXG4gICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgaWYgKHBhaW50aW5nLmlzRHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJldlBhaW50aW5nID0gdGhpcy5wYWludGluZ3NbaSAtIDFdO1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHByZXZQYWludGluZy54LCBwcmV2UGFpbnRpbmcueSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHBhaW50aW5nLnggLSAxLCBwYWludGluZy55KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGN0eC5saW5lVG8ocGFpbnRpbmcueCwgcGFpbnRpbmcueSk7XHJcbiAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBwYWludGluZy5jb2xvcjtcclxuICAgICAgICAgIGN0eC5saW5lV2lkdGggPSBwYWludGluZy5saW5lV2lkdGg7XHJcbiAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldExhc3RQYWludGluZ0luZGV4KCk6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5wYWludGluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wYWludGluZ3NbdGhpcy5wYWludGluZ3MubGVuZ3RoIC0gMV0uaW5kZXg7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Nb3VzZVVwKCk6IHZvaWQge1xyXG4gICAgdGhpcy5vblBhaW50RW5kKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uTW91c2VMZWF2ZSgpOiB2b2lkIHtcclxuICAgIHRoaXMub25QYWludEVuZCgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbk1vdXNlRG93bihlOiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAoZS5idXR0b24gPT0gMCkge1xyXG4gICAgICB0aGlzLm9uUGFpbnRTdGFydChlLmNsaWVudFgsIGUuY2xpZW50WSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uTW91c2VNb3ZlKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIHRoaXMub25QYWludE1vdmUoZS5jbGllbnRYLCBlLmNsaWVudFkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblRvdWNoRW5kKCkge1xyXG4gICAgdGhpcy5vblBhaW50RW5kKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uVG91Y2hTdGFydChlOiBUb3VjaEV2ZW50KSB7XHJcbiAgICB0aGlzLm9uUGFpbnRTdGFydChlLnRvdWNoZXNbMF0uY2xpZW50WCwgZS50b3VjaGVzWzBdLmNsaWVudFkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblRvdWNoTW92ZShlOiBUb3VjaEV2ZW50KSB7XHJcbiAgICB0aGlzLm9uUGFpbnRNb3ZlKGUudG91Y2hlc1swXS5jbGllbnRYLCBlLnRvdWNoZXNbMF0uY2xpZW50WSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uUGFpbnRTdGFydCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgdGhpcy5pc1BhaW50aW5nID0gdHJ1ZTtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA8IHRoaXMuZ2V0TGFzdFBhaW50aW5nSW5kZXgoKSkge1xyXG4gICAgICB0aGlzLnBhaW50aW5ncyA9IHRoaXMucGFpbnRpbmdzLmZpbHRlcihkID0+IGQuaW5kZXggPD0gdGhpcy5jdXJyZW50SW5kZXgpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY2xpZW50WCA9IHggLSB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gICAgY29uc3QgY2xpZW50WSA9IHkgLSB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB0aGlzLmN1cnJlbnRJbmRleCsrO1xyXG4gICAgdGhpcy5hZGRQYWludGluZyhjbGllbnRYLCBjbGllbnRZLCBmYWxzZSk7XHJcbiAgICB0aGlzLnJlcGFpbnQoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25QYWludE1vdmUoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIGlmICh0aGlzLmlzUGFpbnRpbmcpIHtcclxuICAgICAgY29uc3QgY2xpZW50WCA9IHggLSB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gICAgICBjb25zdCBjbGllbnRZID0geSAtIHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgdGhpcy5hZGRQYWludGluZyhjbGllbnRYLCBjbGllbnRZLCB0cnVlKTtcclxuICAgICAgdGhpcy5yZXBhaW50KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uUGFpbnRFbmQoKSB7XHJcbiAgICB0aGlzLmlzUGFpbnRpbmcgPSBmYWxzZTtcclxuICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29sb3JQaWNrZXIge1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY29sb3JQaWNrZXI6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNvbG9yOiBzdHJpbmcsIG9uQ2hhbmdlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5jb2xvclBpY2tlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICB0aGlzLmNvbG9yUGlja2VyLnR5cGUgPSAnY29sb3InO1xyXG4gICAgdGhpcy5jb2xvclBpY2tlci52YWx1ZSA9IGNvbG9yO1xyXG4gICAgdGhpcy5jb2xvclBpY2tlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiBvbkNoYW5nZSh0aGlzLmNvbG9yUGlja2VyLnZhbHVlKSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0KCk6IEhUTUxJbnB1dEVsZW1lbnQge1xyXG4gICAgcmV0dXJuIHRoaXMuY29sb3JQaWNrZXI7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0Q29sb3IoY29sb3I6IHN0cmluZykge1xyXG4gICAgdGhpcy5jb2xvclBpY2tlci52YWx1ZSA9IGNvbG9yO1xyXG4gIH1cclxufSIsImltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4vYnV0dG9uJztcclxuaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSAnLi9jYW52YXMnO1xyXG5pbXBvcnQgeyBDb2xvclBpY2tlciB9IGZyb20gJy4vY29sb3JwaWNrZXInO1xyXG5pbXBvcnQgeyBTbGlkZXIgfSBmcm9tICcuL3NsaWRlcic7XHJcbmltcG9ydCB7IGdldFN0eWxlIH0gZnJvbSAnLi9zdHlsZSc7XHJcblxyXG50eXBlIFBhaW50UGFkT3B0aW9ucyA9IHtcclxuICB3aWR0aD86IHN0cmluZztcclxuICBoZWlnaHQ/OiBzdHJpbmc7XHJcbiAgbGluZVdpZHRoPzogbnVtYmVyO1xyXG4gIGxpbmVXaWR0aE1pbj86IG51bWJlcjtcclxuICBsaW5lV2lkdGhNYXg/OiBudW1iZXI7XHJcbiAgY29sb3I/OiBzdHJpbmc7XHJcbiAgaW1hZ2VOYW1lPzogc3RyaW5nO1xyXG4gIGhhc1NsaWRlcj86IGJvb2xlYW47XHJcbiAgaGFzQ29sb3JQaWNrZXI/OiBib29sZWFuO1xyXG4gIGlzQ2xlYXJhYmxlPzogYm9vbGVhbjtcclxuICBpc0Rvd25sb2FkYWJsZT86IGJvb2xlYW47XHJcbiAgaXNTdGF0ZUNoYW5nZWFibGU/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGFpbnRQYWQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjYW52YXM6IENhbnZhcztcclxuICBwcml2YXRlIHJlYWRvbmx5IHNsaWRlcjogU2xpZGVyO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY29sb3JQaWNrZXI6IENvbG9yUGlja2VyO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY2xlYXJCdG46IEJ1dHRvbjtcclxuICBwcml2YXRlIHJlYWRvbmx5IGRvd25sb2FkQnRuOiBCdXR0b247XHJcbiAgcHJpdmF0ZSByZWFkb25seSB1bmRvQnRuOiBCdXR0b247XHJcbiAgcHJpdmF0ZSByZWFkb25seSByZWRvQnRuOiBCdXR0b247XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgd3JhcHBlcjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBidG5Db250YWluZXI6IEhUTUxEaXZFbGVtZW50O1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IHdpZHRoOiBzdHJpbmcgPSAnNTAwcHgnO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgaGVpZ2h0OiBzdHJpbmcgPSAnNTAwcHgnO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgbGluZVdpZHRoOiBudW1iZXIgPSAxMDtcclxuICBwcml2YXRlIHJlYWRvbmx5IGxpbmVXaWR0aE1pbjogbnVtYmVyID0gMTtcclxuICBwcml2YXRlIHJlYWRvbmx5IGxpbmVXaWR0aE1heDogbnVtYmVyID0gMzA7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjb2xvcjogc3RyaW5nID0gJyMwMDAwMDAnO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgaW1hZ2VOYW1lOiBzdHJpbmcgPSAncGFpbnRwYWQnO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgaGFzU2xpZGVyOiBib29sZWFuID0gdHJ1ZTtcclxuICBwcml2YXRlIHJlYWRvbmx5IGhhc0NvbG9yUGlja2VyOiBib29sZWFuID0gdHJ1ZTtcclxuICBwcml2YXRlIHJlYWRvbmx5IGlzQ2xlYXJhYmxlOiBib29sZWFuID0gdHJ1ZTtcclxuICBwcml2YXRlIHJlYWRvbmx5IGlzRG93bmxvYWRhYmxlOiBib29sZWFuID0gdHJ1ZTtcclxuICBwcml2YXRlIHJlYWRvbmx5IGlzU3RhdGVDaGFuZ2VhYmxlOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgY29uc3RydWN0b3Iob3B0PzogUGFpbnRQYWRPcHRpb25zKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMud2lkdGggPSBvcHQ/LndpZHRoID8/IHRoaXMuZ2V0QXR0cmlidXRlKCd3aWR0aCcpID8/IHRoaXMud2lkdGg7XHJcbiAgICB0aGlzLmhlaWdodCA9IG9wdD8uaGVpZ2h0ID8/IHRoaXMuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSA/PyB0aGlzLmhlaWdodDtcclxuICAgIHRoaXMubGluZVdpZHRoID0gb3B0Py5saW5lV2lkdGggPz8gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoJ2xpbmVXaWR0aCcpID8/IHRoaXMubGluZVdpZHRoLnRvU3RyaW5nKCkpO1xyXG4gICAgdGhpcy5saW5lV2lkdGhNaW4gPSBvcHQ/LmxpbmVXaWR0aE1pbiA/PyBwYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgnbGluZVdpZHRoTWluJykgPz8gdGhpcy5saW5lV2lkdGhNaW4udG9TdHJpbmcoKSk7XHJcbiAgICB0aGlzLmxpbmVXaWR0aE1heCA9IG9wdD8ubGluZVdpZHRoTWF4ID8/IHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCdsaW5lV2lkdGhNYXgnKSA/PyB0aGlzLmxpbmVXaWR0aE1heC50b1N0cmluZygpKTtcclxuICAgIHRoaXMuY29sb3IgPSBvcHQ/LmNvbG9yID8/IHRoaXMuZ2V0QXR0cmlidXRlKCdjb2xvcicpID8/IHRoaXMuY29sb3I7XHJcbiAgICB0aGlzLmltYWdlTmFtZSA9IG9wdD8uaW1hZ2VOYW1lID8/IHRoaXMuZ2V0QXR0cmlidXRlKCdpbWFnZU5hbWUnKSA/PyB0aGlzLmltYWdlTmFtZTtcclxuICAgIHRoaXMuaGFzU2xpZGVyID0gb3B0Py5oYXNTbGlkZXIgPz8gKHRoaXMuZ2V0QXR0cmlidXRlKCdoYXNTbGlkZXInKSA/ICh0aGlzLmdldEF0dHJpYnV0ZSgnaGFzU2xpZGVyJykgPT0gJ3RydWUnKSA6IHRoaXMuaGFzU2xpZGVyKTtcclxuICAgIHRoaXMuaGFzQ29sb3JQaWNrZXIgPSBvcHQ/Lmhhc0NvbG9yUGlja2VyID8/ICh0aGlzLmdldEF0dHJpYnV0ZSgnaGFzQ29sb3JQaWNrZXInKSA/ICh0aGlzLmdldEF0dHJpYnV0ZSgnaGFzQ29sb3JQaWNrZXInKSA9PSAndHJ1ZScpIDogdGhpcy5oYXNDb2xvclBpY2tlcik7XHJcbiAgICB0aGlzLmlzQ2xlYXJhYmxlID0gb3B0Py5pc0NsZWFyYWJsZSA/PyAodGhpcy5nZXRBdHRyaWJ1dGUoJ2lzQ2xlYXJhYmxlJykgPyAodGhpcy5nZXRBdHRyaWJ1dGUoJ2lzQ2xlYXJhYmxlJykgPT0gJ3RydWUnKSA6IHRoaXMuaXNDbGVhcmFibGUpO1xyXG4gICAgdGhpcy5pc0Rvd25sb2FkYWJsZSA9IG9wdD8uaXNEb3dubG9hZGFibGUgPz8gKHRoaXMuZ2V0QXR0cmlidXRlKCdpc0Rvd25sb2FkYWJsZScpID8gKHRoaXMuZ2V0QXR0cmlidXRlKCdpc0Rvd25sb2FkYWJsZScpID09ICd0cnVlJykgOiB0aGlzLmlzRG93bmxvYWRhYmxlKTtcclxuICAgIHRoaXMuaXNTdGF0ZUNoYW5nZWFibGUgPSBvcHQ/LmlzU3RhdGVDaGFuZ2VhYmxlID8/ICh0aGlzLmdldEF0dHJpYnV0ZSgnaXNTdGF0ZUNoYW5nZWFibGUnKSA/ICh0aGlzLmdldEF0dHJpYnV0ZSgnaXNTdGF0ZUNoYW5nZWFibGUnKSA9PSAndHJ1ZScpIDogdGhpcy5pc1N0YXRlQ2hhbmdlYWJsZSk7XHJcblxyXG4gICAgY29uc3Qgc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XHJcbiAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMud3JhcHBlci5pZCA9ICd3cmFwcGVyJztcclxuXHJcbiAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXModGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMubGluZVdpZHRoLCB0aGlzLmNvbG9yLCB0aGlzLmltYWdlTmFtZSk7XHJcbiAgICB0aGlzLndyYXBwZXIuYXBwZW5kKHRoaXMuY2FudmFzLmdldCgpKTtcclxuXHJcbiAgICB0aGlzLnNsaWRlciA9IG5ldyBTbGlkZXIodGhpcy5saW5lV2lkdGhNaW4sIHRoaXMubGluZVdpZHRoTWF4LCB0aGlzLmxpbmVXaWR0aCwgKHYpID0+IHRoaXMuc2V0TGluZVdpZHRoKHYpKTtcclxuICAgIHRoaXMud3JhcHBlci5hcHBlbmQodGhpcy5zbGlkZXIuZ2V0KCkpO1xyXG5cclxuICAgIHRoaXMuYnRuQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmJ0bkNvbnRhaW5lci5pZCA9ICdidG4tY29udGFpbmVyJztcclxuXHJcbiAgICBjb25zdCBidG5Db250YWluZXJMZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmNsZWFyQnRuID0gbmV3IEJ1dHRvbignY2xlYXInLCAoKSA9PiB0aGlzLmNsZWFyKCkpO1xyXG4gICAgYnRuQ29udGFpbmVyTGVmdC5hcHBlbmQodGhpcy5jbGVhckJ0bi5nZXQoKSk7XHJcbiAgICB0aGlzLmRvd25sb2FkQnRuID0gbmV3IEJ1dHRvbignZG93bmxvYWQnLCAoKSA9PiB0aGlzLmRvd25sb2FkKCkpO1xyXG4gICAgYnRuQ29udGFpbmVyTGVmdC5hcHBlbmQodGhpcy5kb3dubG9hZEJ0bi5nZXQoKSk7XHJcbiAgICB0aGlzLnVuZG9CdG4gPSBuZXcgQnV0dG9uKCd1bmRvJywgKCkgPT4gdGhpcy51bmRvKCkpO1xyXG4gICAgYnRuQ29udGFpbmVyTGVmdC5hcHBlbmQodGhpcy51bmRvQnRuLmdldCgpKTtcclxuICAgIHRoaXMucmVkb0J0biA9IG5ldyBCdXR0b24oJ3JlZG8nLCAoKSA9PiB0aGlzLnJlZG8oKSk7XHJcbiAgICBidG5Db250YWluZXJMZWZ0LmFwcGVuZCh0aGlzLnJlZG9CdG4uZ2V0KCkpO1xyXG4gICAgdGhpcy5idG5Db250YWluZXIuYXBwZW5kKGJ0bkNvbnRhaW5lckxlZnQpO1xyXG5cclxuICAgIGNvbnN0IGJ0bkNvbnRhaW5lclJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmNvbG9yUGlja2VyID0gbmV3IENvbG9yUGlja2VyKHRoaXMuY29sb3IsICh2KSA9PiB0aGlzLnNldENvbG9yKHYpKTtcclxuICAgIGJ0bkNvbnRhaW5lclJpZ2h0LmFwcGVuZCh0aGlzLmNvbG9yUGlja2VyLmdldCgpKTtcclxuICAgIHRoaXMuYnRuQ29udGFpbmVyLmFwcGVuZChidG5Db250YWluZXJSaWdodCk7XHJcblxyXG4gICAgdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLmJ0bkNvbnRhaW5lcik7XHJcblxyXG4gICAgc2hhZG93LmFwcGVuZENoaWxkKGdldFN0eWxlKCkpO1xyXG4gICAgc2hhZG93LmFwcGVuZCh0aGlzLndyYXBwZXIpO1xyXG5cclxuICAgIHRoaXMuc2V0V2lkdGgodGhpcy53aWR0aCk7XHJcblxyXG4gICAgdGhpcy5zZXRWaXNpYmlsaXR5KHRoaXMuc2xpZGVyLmdldCgpLCB0aGlzLmhhc1NsaWRlcik7XHJcbiAgICB0aGlzLnNldFZpc2liaWxpdHkodGhpcy5jb2xvclBpY2tlci5nZXQoKSwgdGhpcy5oYXNDb2xvclBpY2tlcik7XHJcbiAgICB0aGlzLnNldFZpc2liaWxpdHkodGhpcy5jbGVhckJ0bi5nZXQoKSwgdGhpcy5pc0NsZWFyYWJsZSk7XHJcbiAgICB0aGlzLnNldFZpc2liaWxpdHkodGhpcy5kb3dubG9hZEJ0bi5nZXQoKSwgdGhpcy5pc0Rvd25sb2FkYWJsZSk7XHJcbiAgICB0aGlzLnNldFZpc2liaWxpdHkodGhpcy5yZWRvQnRuLmdldCgpLCB0aGlzLmlzU3RhdGVDaGFuZ2VhYmxlKTtcclxuICAgIHRoaXMuc2V0VmlzaWJpbGl0eSh0aGlzLnVuZG9CdG4uZ2V0KCksIHRoaXMuaXNTdGF0ZUNoYW5nZWFibGUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFdpZHRoKHdpZHRoOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLnNldFdpZHRoKHdpZHRoKTtcclxuICAgIHRoaXMud3JhcHBlci5zdHlsZS53aWR0aCA9IHdpZHRoO1xyXG4gICAgdGhpcy5idG5Db250YWluZXIuc3R5bGUud2lkdGggPSB3aWR0aDtcclxuICAgIHRoaXMuc2xpZGVyLmdldCgpLnN0eWxlLndpZHRoID0gd2lkdGg7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0SGVpZ2h0KGhlaWdodDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLmNhbnZhcy5zZXRIZWlnaHQoaGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRMaW5lV2lkdGgobGluZVdpZHRoOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLnNldExpbmVXaWR0aChsaW5lV2lkdGgpO1xyXG4gICAgdGhpcy5zbGlkZXIuc2V0VmFsdWUobGluZVdpZHRoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRMaW5lV2lkdGhNaW4obGluZVdpZHRoOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuc2xpZGVyLnNldE1pblZhbHVlKGxpbmVXaWR0aCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0TGluZVdpZHRoTWF4KGxpbmVXaWR0aDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLnNsaWRlci5zZXRNYXhWYWx1ZShsaW5lV2lkdGgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldENvbG9yKGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLnNldENvbG9yKGNvbG9yKTtcclxuICAgIHRoaXMuY29sb3JQaWNrZXIuc2V0Q29sb3IoY29sb3IpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldEltYWdlTmFtZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLnNldEltYWdlTmFtZShuYW1lKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRTbGlkZXIoaXNWaXNpYmxlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLnNldFZpc2liaWxpdHkodGhpcy5zbGlkZXIuZ2V0KCksIGlzVmlzaWJsZSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0Q29sb3JQaWNrZXIoaXNWaXNpYmxlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLnNldFZpc2liaWxpdHkodGhpcy5jb2xvclBpY2tlci5nZXQoKSwgaXNWaXNpYmxlKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRDbGVhcmFibGUoaXNWaXNpYmxlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLnNldFZpc2liaWxpdHkodGhpcy5jbGVhckJ0bi5nZXQoKSwgaXNWaXNpYmxlKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXREb3dubG9hZGFibGUoaXNWaXNpYmxlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLnNldFZpc2liaWxpdHkodGhpcy5kb3dubG9hZEJ0bi5nZXQoKSwgaXNWaXNpYmxlKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRTdGF0ZUNoYW5nZWFibGUoaXNWaXNpYmxlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLnNldFZpc2liaWxpdHkodGhpcy5yZWRvQnRuLmdldCgpLCBpc1Zpc2libGUpO1xyXG4gICAgdGhpcy5zZXRWaXNpYmlsaXR5KHRoaXMudW5kb0J0bi5nZXQoKSwgaXNWaXNpYmxlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0VmlzaWJpbGl0eShlbGVtZW50OiBIVE1MRWxlbWVudCwgaXNWaXNpYmxlOiBib29sZWFuLCkge1xyXG4gICAgaWYgKGlzVmlzaWJsZSkge1xyXG4gICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLmNsZWFyKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZG93bmxvYWQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmNhbnZhcy5kb3dubG9hZCgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVuZG8oKTogdm9pZCB7XHJcbiAgICB0aGlzLmNhbnZhcy51bmRvKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVkbygpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLnJlZG8oKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXREYXRhVVJMKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5jYW52YXMuZ2V0KCkudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRCbG9iKGNhbGxiYWNrOiBCbG9iQ2FsbGJhY2ssIHR5cGU/OiBzdHJpbmcgfCB1bmRlZmluZWQsIHF1YWxpdHk/OiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHJldHVybiB0aGlzLmNhbnZhcy5nZXQoKS50b0Jsb2IoY2FsbGJhY2ssIHR5cGUsIHF1YWxpdHkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZTogc3RyaW5nLCBvbGRWYWx1ZTogc3RyaW5nLCBuZXdWYWx1ZTogc3RyaW5nKSB7XHJcbiAgICBzd2l0Y2ggKG5hbWUpIHtcclxuICAgICAgY2FzZSAnd2lkdGgnOlxyXG4gICAgICAgIHRoaXMuc2V0V2lkdGgobmV3VmFsdWUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdoZWlnaHQnOlxyXG4gICAgICAgIHRoaXMuc2V0SGVpZ2h0KG5ld1ZhbHVlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnbGluZXdpZHRoJzpcclxuICAgICAgICB0aGlzLnNldExpbmVXaWR0aChwYXJzZUludChuZXdWYWx1ZSkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdsaW5ld2lkdGhtaW4nOlxyXG4gICAgICAgIHRoaXMuc2V0TGluZVdpZHRoTWluKHBhcnNlSW50KG5ld1ZhbHVlKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2xpbmV3aWR0aG1heCc6XHJcbiAgICAgICAgdGhpcy5zZXRMaW5lV2lkdGhNYXgocGFyc2VJbnQobmV3VmFsdWUpKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnY29sb3InOlxyXG4gICAgICAgIHRoaXMuc2V0Q29sb3IobmV3VmFsdWUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdpbWFnZW5hbWUnOlxyXG4gICAgICAgIHRoaXMuc2V0SW1hZ2VOYW1lKG5ld1ZhbHVlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnaGFzc2xpZGVyJzpcclxuICAgICAgICB0aGlzLnNldFNsaWRlcihuZXdWYWx1ZSA9PSAndHJ1ZScpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdoYXNjb2xvcnBpY2tlcic6XHJcbiAgICAgICAgdGhpcy5zZXRDb2xvclBpY2tlcihuZXdWYWx1ZSA9PSAndHJ1ZScpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdpc2NsZWFyYWJsZSc6XHJcbiAgICAgICAgdGhpcy5zZXRDbGVhcmFibGUobmV3VmFsdWUgPT0gJ3RydWUnKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnaXNkb3dubG9hZGFibGUnOlxyXG4gICAgICAgIHRoaXMuc2V0RG93bmxvYWRhYmxlKG5ld1ZhbHVlID09ICd0cnVlJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2lzc3RhdGVjaGFuZ2VhYmxlJzpcclxuICAgICAgICB0aGlzLnNldFN0YXRlQ2hhbmdlYWJsZShuZXdWYWx1ZSA9PSAndHJ1ZScpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XHJcbiAgICByZXR1cm4gWyd3aWR0aCcsICdoZWlnaHQnLCAnbGluZXdpZHRoJywgJ2xpbmV3aWR0aG1pbicsICdsaW5ld2lkdGhtYXgnLCAnY29sb3InLCAnaW1hZ2VuYW1lJyxcclxuICAgICAgJ2hhc3NsaWRlcicsICdoYXNjb2xvcnBpY2tlcicsICdpc2NsZWFyYWJsZScsICdpc2Rvd25sb2FkYWJsZScsICdpc3N0YXRlY2hhbmdlYWJsZSddO1xyXG4gIH1cclxufVxyXG5cclxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdwYWludC1wYWQnLCBQYWludFBhZCk7XHJcbiIsImV4cG9ydCBjbGFzcyBTbGlkZXIge1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgc2xpZGVyOiBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIHZhbHVlOiBudW1iZXIsIG9uQ2hhbmdlOiAodmFsdWU6IG51bWJlcikgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5zbGlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgdGhpcy5zbGlkZXIudHlwZSA9ICdyYW5nZSc7XHJcbiAgICB0aGlzLnNsaWRlci5taW4gPSBtaW4udG9TdHJpbmcoKTtcclxuICAgIHRoaXMuc2xpZGVyLm1heCA9IG1heC50b1N0cmluZygpO1xyXG4gICAgdGhpcy5zbGlkZXIudmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgdGhpcy5zbGlkZXIudGl0bGUgPSB0aGlzLnNsaWRlci52YWx1ZTtcclxuICAgIHRoaXMuc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IG9uQ2hhbmdlKHBhcnNlSW50KHRoaXMuc2xpZGVyLnZhbHVlKSkpO1xyXG4gICAgdGhpcy5zbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdGhpcy5zbGlkZXIudGl0bGUgPSB0aGlzLnNsaWRlci52YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0KCk6IEhUTUxJbnB1dEVsZW1lbnQge1xyXG4gICAgcmV0dXJuIHRoaXMuc2xpZGVyO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFZhbHVlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuc2xpZGVyLnZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRNaW5WYWx1ZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLnNsaWRlci5taW4gPSB2YWx1ZS50b1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldE1heFZhbHVlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuc2xpZGVyLm1heCA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlKCk6IEhUTUxTdHlsZUVsZW1lbnQge1xyXG4gIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICBzdHlsZS5pbm5lckhUTUwgPSBgXHJcbiAgICAjd3JhcHBlciB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgY2FudmFzIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICAgICAgYm9yZGVyOiAycHggc29saWQgI2QzZDNkMztcclxuICAgIH1cclxuXHJcbiAgICAjYnRuLWNvbnRhaW5lciB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgbWFyZ2luLXRvcDogNnB4O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBidXR0b24ge1xyXG4gICAgICB3aWR0aDogMjBweDtcclxuICAgICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGJ1dHRvbjpob3ZlciB7XHJcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNDQ0O1xyXG4gICAgICB0cmFuc2l0aW9uOiBhbGwgMXMgZWFzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5wdXRbdHlwZT1cInJhbmdlXCJdIHtcclxuICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xyXG4gICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgYmFja2dyb3VuZDogIzQ0NDtcclxuICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgICAgb3BhY2l0eTogMC43O1xyXG4gICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycztcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5wdXRbdHlwZT1cInJhbmdlXCJdOmhvdmVyIHtcclxuICAgICAgb3BhY2l0eTogMTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5wdXRbdHlwZT1cInJhbmdlXCJdOjotd2Via2l0LXNsaWRlci10aHVtYiB7XHJcbiAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XHJcbiAgICAgIHdpZHRoOiAxMHB4O1xyXG4gICAgICBoZWlnaHQ6IDEwcHg7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgei1pbmRleDogMTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dFt0eXBlPVwicmFuZ2VcIl06Oi1tb3otcmFuZ2UtdGh1bWIge1xyXG4gICAgICB3aWR0aDogOHB4O1xyXG4gICAgICBoZWlnaHQ6IDhweDtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICB6LWluZGV4OiAxO1xyXG4gICAgfVxyXG5cclxuICAgIGlucHV0W3R5cGU9XCJjb2xvclwiXSB7XHJcbiAgICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgYmFja2dyb3VuZDogbm9uZTtcclxuICAgICAgcGFkZGluZzogMDtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXRbdHlwZT1cImNvbG9yXCJdOmhvdmVyIHtcclxuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM0NDQ7XHJcbiAgICAgIHRyYW5zaXRpb246IGFsbCAxcyBlYXNlO1xyXG4gICAgfVxyXG4gICAgYDtcclxuICByZXR1cm4gc3R5bGU7XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiZXhwb3J0IHsgUGFpbnRQYWQgfSBmcm9tICcuL3BhaW50cGFkJztcclxuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwidGhpcyIsInN2ZyIsImNvbnN0cnVjdG9yIiwiYWN0aW9uIiwib25DbGljayIsImJ1dHRvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRpdGxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldCIsIndpZHRoIiwiaGVpZ2h0IiwibGluZVdpZHRoIiwiY29sb3IiLCJpbWFnZU5hbWUiLCJpc1BhaW50aW5nIiwicGFpbnRpbmdzIiwiY3VycmVudEluZGV4IiwiY2FudmFzIiwic2V0QXR0cmlidXRlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY29udGV4dCIsImdldENvbnRleHQiLCJvbk1vdXNlRG93biIsImJpbmQiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsIm9uTW91c2VMZWF2ZSIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsInNldExpbmVXaWR0aCIsInNldENvbG9yIiwiY2xlYXIiLCJjbGVhclJlY3QiLCJkb3dubG9hZCIsImxpbmsiLCJocmVmIiwidG9EYXRhVVJMIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInVuZG8iLCJyZXBhaW50IiwicmVkbyIsImdldExhc3RQYWludGluZ0luZGV4Iiwic2V0V2lkdGgiLCJzZXRIZWlnaHQiLCJzZXRJbWFnZU5hbWUiLCJuYW1lIiwiYWRkUGFpbnRpbmciLCJ4IiwieSIsImlzRHJhZ2dpbmciLCJwdXNoIiwiaW5kZXgiLCJjdHgiLCJsaW5lSm9pbiIsImxlbmd0aCIsInBhaW50aW5nIiwiYmVnaW5QYXRoIiwicHJldlBhaW50aW5nIiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJvblBhaW50RW5kIiwib25QYWludFN0YXJ0IiwiY2xpZW50WCIsImNsaWVudFkiLCJvblBhaW50TW92ZSIsInRvdWNoZXMiLCJmaWx0ZXIiLCJkIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsInRvcCIsIm9uQ2hhbmdlIiwiY29sb3JQaWNrZXIiLCJ0eXBlIiwidmFsdWUiLCJQYWludFBhZCIsIkhUTUxFbGVtZW50Iiwib3B0Iiwic3VwZXIiLCJsaW5lV2lkdGhNaW4iLCJsaW5lV2lkdGhNYXgiLCJoYXNTbGlkZXIiLCJoYXNDb2xvclBpY2tlciIsImlzQ2xlYXJhYmxlIiwiaXNEb3dubG9hZGFibGUiLCJpc1N0YXRlQ2hhbmdlYWJsZSIsImdldEF0dHJpYnV0ZSIsInBhcnNlSW50IiwidG9TdHJpbmciLCJzaGFkb3ciLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwid3JhcHBlciIsImlkIiwiQ2FudmFzIiwiYXBwZW5kIiwic2xpZGVyIiwiU2xpZGVyIiwidiIsImJ0bkNvbnRhaW5lciIsImJ0bkNvbnRhaW5lckxlZnQiLCJjbGVhckJ0biIsIkJ1dHRvbiIsImRvd25sb2FkQnRuIiwidW5kb0J0biIsInJlZG9CdG4iLCJidG5Db250YWluZXJSaWdodCIsIkNvbG9yUGlja2VyIiwiZ2V0U3R5bGUiLCJzZXRWaXNpYmlsaXR5Iiwic3R5bGUiLCJzZXRWYWx1ZSIsInNldExpbmVXaWR0aE1pbiIsInNldE1pblZhbHVlIiwic2V0TGluZVdpZHRoTWF4Iiwic2V0TWF4VmFsdWUiLCJzZXRTbGlkZXIiLCJpc1Zpc2libGUiLCJzZXRDb2xvclBpY2tlciIsInNldENsZWFyYWJsZSIsInNldERvd25sb2FkYWJsZSIsInNldFN0YXRlQ2hhbmdlYWJsZSIsImVsZW1lbnQiLCJkaXNwbGF5IiwiZ2V0RGF0YVVSTCIsImdldEJsb2IiLCJjYWxsYmFjayIsInF1YWxpdHkiLCJ0b0Jsb2IiLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwiY3VzdG9tRWxlbWVudHMiLCJtaW4iLCJtYXgiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sInNvdXJjZVJvb3QiOiIifQ==