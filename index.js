!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(this,(function(){return(()=>{"use strict";var t={881:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const i={undo:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rotate-ccw"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rotate-cw"><polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg>',clear:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'};e.Button=class{constructor(t,e){this.button=document.createElement("button"),this.button.innerHTML=i[t],this.button.title=t,this.button.addEventListener("click",e)}get(){return this.button}}},235:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Canvas=void 0,e.Canvas=class{constructor(t,e,i,n,s){this.isPainting=!1,this.paintings=[],this.currentIndex=0,this.lineWidth=i,this.color=n,this.imageName=s,this.canvas=document.createElement("canvas"),this.canvas.setAttribute("width",t),this.canvas.setAttribute("height",e),this.canvas.addEventListener("contextmenu",(t=>t.preventDefault())),this.context=this.canvas.getContext("2d"),this.canvas.addEventListener("mousedown",this.onMouseDown.bind(this)),this.canvas.addEventListener("mousemove",this.onMouseMove.bind(this)),this.canvas.addEventListener("mouseup",this.onMouseUp.bind(this)),this.canvas.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.canvas.addEventListener("touchstart",this.onTouchStart.bind(this)),this.canvas.addEventListener("touchmove",this.onTouchMove.bind(this)),this.canvas.addEventListener("touchend",this.onTouchEnd.bind(this))}get(){return this.canvas}setLineWidth(t){this.lineWidth=t}setColor(t){this.color=t}clear(){null!=this.context&&(this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.paintings=[])}download(){const t=document.createElement("a");t.href=this.canvas.toDataURL("image/png"),t.download=this.imageName,document.body.appendChild(t),t.click(),document.body.removeChild(t)}undo(){this.currentIndex>0&&this.currentIndex--,this.repaint()}redo(){this.currentIndex<this.getLastPaintingIndex()&&this.currentIndex++,this.repaint()}addPainting(t,e,i){this.paintings.push({x:t,y:e,isDragging:i,color:this.color,lineWidth:this.lineWidth,index:this.currentIndex})}repaint(){if(null!=this.context){const t=this.context;t.clearRect(0,0,t.canvas.width,t.canvas.height),t.lineJoin="round";for(let e=0;e<this.paintings.length;e++){const i=this.paintings[e];if(i.index<=this.currentIndex){if(t.beginPath(),i.isDragging){const i=this.paintings[e-1];t.moveTo(i.x,i.y)}else t.moveTo(i.x-1,i.y);t.lineTo(i.x,i.y),t.closePath(),t.strokeStyle=i.color,t.lineWidth=i.lineWidth,t.stroke()}}}}getLastPaintingIndex(){return this.paintings.length>0?this.paintings[this.paintings.length-1].index:0}onMouseUp(){this.isPainting=!1}onMouseLeave(){this.isPainting=!1}onMouseDown(t){0==t.button&&this.onPaintStart(t.pageX,t.pageY)}onMouseMove(t){this.onPaintMove(t.pageX,t.pageY)}onTouchEnd(){this.isPainting=!1}onTouchStart(t){this.onPaintStart(t.touches[0].clientX,t.touches[0].clientY)}onTouchMove(t){this.onPaintMove(t.touches[0].clientX,t.touches[0].clientY)}onPaintStart(t,e){this.isPainting=!0,this.currentIndex<this.getLastPaintingIndex()&&(this.paintings=this.paintings.filter((t=>t.index<=this.currentIndex)));const i=t-this.canvas.getBoundingClientRect().left,n=e-this.canvas.getBoundingClientRect().top;this.currentIndex++,this.addPainting(i,n,!1),this.repaint()}onPaintMove(t,e){if(this.isPainting){const i=t-this.canvas.getBoundingClientRect().left,n=e-this.canvas.getBoundingClientRect().top;this.addPainting(i,n,!0),this.repaint()}}}},994:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPicker=void 0,e.ColorPicker=class{constructor(t,e){this.colorPicker=document.createElement("input"),this.colorPicker.type="color",this.colorPicker.value=t,this.colorPicker.addEventListener("change",(()=>e(this.colorPicker.value)))}get(){return this.colorPicker}setColor(t){this.colorPicker.value=t}}},505:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PaintPad=void 0;const n=i(881),s=i(235),o=i(994),a=i(943);class r extends HTMLElement{constructor(t){var e,i,r,h,l,d,c,u,g,v,p,x,w,b,m,f,P,k,y;super(),this.width="500px",this.height="500px",this.lineWidth=10,this.lineWidthMin=1,this.lineWidthMax=30,this.color="#000000",this.imageName="paintpad",this.hasSlider=!0,this.hasColorPicker=!0,this.canClear=!0,this.canDownload=!0,this.canChangeState=!0;const C=this.attachShadow({mode:"open"}),M=document.createElement("div");M.id="wrapper",this.width=null!==(i=null!==(e=null==t?void 0:t.width)&&void 0!==e?e:this.getAttribute("width"))&&void 0!==i?i:this.width,this.height=null!==(h=null!==(r=null==t?void 0:t.height)&&void 0!==r?r:this.getAttribute("height"))&&void 0!==h?h:this.height,this.lineWidth=null!==(l=null==t?void 0:t.lineWidth)&&void 0!==l?l:parseInt(null!==(d=this.getAttribute("lineWidth"))&&void 0!==d?d:this.lineWidth.toString()),this.lineWidthMin=null!==(c=null==t?void 0:t.lineWidthMin)&&void 0!==c?c:parseInt(null!==(u=this.getAttribute("lineWidthMin"))&&void 0!==u?u:this.lineWidthMin.toString()),this.lineWidthMax=null!==(g=null==t?void 0:t.lineWidthMax)&&void 0!==g?g:parseInt(null!==(v=this.getAttribute("lineWidthMax"))&&void 0!==v?v:this.lineWidthMax.toString()),this.color=null!==(x=null!==(p=null==t?void 0:t.color)&&void 0!==p?p:this.getAttribute("color"))&&void 0!==x?x:this.color,this.imageName=null!==(b=null!==(w=null==t?void 0:t.imageName)&&void 0!==w?w:this.getAttribute("imageName"))&&void 0!==b?b:this.imageName,this.hasSlider=null!==(m=null==t?void 0:t.hasSlider)&&void 0!==m?m:this.getAttribute("hasSlider")?"true"==this.getAttribute("hasSlider"):this.hasSlider,this.hasColorPicker=null!==(f=null==t?void 0:t.hasColorPicker)&&void 0!==f?f:this.getAttribute("hasColorPicker")?"true"==this.getAttribute("hasColorPicker"):this.hasColorPicker,this.canClear=null!==(P=null==t?void 0:t.canClear)&&void 0!==P?P:this.getAttribute("canClear")?"true"==this.getAttribute("canClear"):this.canClear,this.canDownload=null!==(k=null==t?void 0:t.canDownload)&&void 0!==k?k:this.getAttribute("canDownload")?"true"==this.getAttribute("canDownload"):this.canDownload,this.canChangeState=null!==(y=null==t?void 0:t.canChangeState)&&void 0!==y?y:this.getAttribute("canChangeState")?"true"==this.getAttribute("canChangeState"):this.canChangeState,this.canvas=new s.Canvas(this.width,this.height,this.lineWidth,this.color,this.imageName),M.append(this.canvas.get()),this.hasSlider&&(this.slider=new a.Slider(this.lineWidthMin,this.lineWidthMax,this.lineWidth,(t=>this.canvas.setLineWidth(t))),M.append(this.slider.get()));const S=document.createElement("div");S.id="btn-container";const L=document.createElement("div");if(this.canClear){const t=new n.Button("clear",(()=>this.canvas.clear()));L.append(t.get())}if(this.canDownload){const t=new n.Button("download",(()=>this.canvas.download()));L.append(t.get())}if(this.canChangeState){const t=new n.Button("undo",(()=>this.canvas.undo()));L.append(t.get());const e=new n.Button("redo",(()=>this.canvas.redo()));L.append(e.get())}if(S.append(L),this.hasColorPicker){const t=document.createElement("div");this.colorPicker=new o.ColorPicker(this.color,(t=>this.canvas.setColor(t))),t.append(this.colorPicker.get()),S.append(t)}M.append(S),C.appendChild(this.getStyle()),C.append(M)}clear(){this.canvas.clear()}download(){this.canvas.download()}undo(){this.canvas.undo()}redo(){this.canvas.redo()}setColor(t){var e;this.canvas.setColor(t),null===(e=this.colorPicker)||void 0===e||e.setColor(t)}setLineWidth(t){var e;this.canvas.setLineWidth(t),null===(e=this.slider)||void 0===e||e.setValue(t)}getDataURL(){return this.canvas.get().toDataURL("image/png")}getBlob(t,e,i){return this.canvas.get().toBlob(t,e,i)}getStyle(){const t=document.createElement("style");return t.innerHTML=`\n    #wrapper {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      width: ${this.width};\n    }\n\n    canvas {\n      background-color: #fff;\n      border: 2px solid #d3d3d3;\n    }\n\n    #btn-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      width: ${this.width};\n    }\n    \n    button {\n      width: 20px;\n      height: 20px;\n      background: none;\n      border: none;\n      padding: 0;\n      cursor: pointer;\n    }\n\n    button:hover {\n      border-bottom: 1px solid #d3d3d3;\n      transition: all 1s ease;\n    }\n    \n    input[type="range"] {\n      -webkit-appearance: none;\n      height: 2px;\n      background: #444;\n      opacity: 0.7;\n      transition: opacity .2s;\n      margin-top: 8px;\n      width: ${this.width};\n    }\n    \n    input[type="range"]:hover {\n      opacity: 1;\n    }\n    \n    input[type="range"]::-webkit-slider-thumb {\n      appearance: none;\n      width: 10px;\n      height: 10px;\n      border-radius: 50%;\n      border: 1px solid black;\n      background: #fff;\n      cursor: pointer;\n      z-index: 1;\n    }\n\n    input[type="range"]::-moz-range-thumb {\n      width: 8px;\n      height: 8px;\n      border-radius: 50%;\n      border: 1px solid black;\n      cursor: pointer;\n      z-index: 1;\n    }\n\n    input[type="color"] {\n      width: 20px;\n      height: 20px;\n      border: none;\n      background: none;\n      cursor: pointer;\n    }\n\n    input[type="color"]:hover {\n      border-bottom: 1px solid #d3d3d3;\n      transition: all 1s ease;\n    }\n    `,t}}e.PaintPad=r,customElements.define("paint-pad",r)},943:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0,e.Slider=class{constructor(t,e,i,n){this.slider=document.createElement("input"),this.slider.type="range",this.slider.min=t.toString(),this.slider.max=e.toString(),this.slider.value=i.toString(),this.slider.title=this.slider.value,this.slider.addEventListener("change",(()=>n(parseInt(this.slider.value)))),this.slider.addEventListener("change",(()=>this.slider.title=this.slider.value))}get(){return this.slider}setValue(t){this.slider.value=t.toString()}}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,i),o.exports}var n={};return(()=>{var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.PaintPad=void 0;var e=i(505);Object.defineProperty(t,"PaintPad",{enumerable:!0,get:function(){return e.PaintPad}})})(),n})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQzFCckcsS0FBS3dHLE9BQU8vRixNQUFRVCxLQUFLd0csT0FBT3RCLE1BQ2hDbEYsS0FBS3dHLE9BQU85RixpQkFBaUIsVUFBVSxJQUFNcUUsRUFBU3FCLFNBQVNwRyxLQUFLd0csT0FBT3RCLFVBQzNFbEYsS0FBS3dHLE9BQU85RixpQkFBaUIsVUFBVSxJQUFNVixLQUFLd0csT0FBTy9GLE1BQVFULEtBQUt3RyxPQUFPdEIsUUFHeEV2RSxNQUNMLE9BQU9YLEtBQUt3RyxPQUdQYSxTQUFTbkMsR0FDZGxGLEtBQUt3RyxPQUFPdEIsTUFBUUEsRUFBTW1CLGVDbEIxQjBCLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWF4SSxRQUdyQixJQUFJQyxFQUFTb0ksRUFBeUJFLEdBQVksQ0FHakR2SSxRQUFTLElBT1YsT0FIQTBJLEVBQW9CSCxHQUFVdEksRUFBUUEsRUFBT0QsUUFBU3NJLEdBRy9DckksRUFBT0QsUSxnR0NyQmYsYUFBUywwRUFBQXlGLGEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYWludHBhZC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vcGFpbnRwYWQvLi9zcmMvYnV0dG9uLnRzIiwid2VicGFjazovL3BhaW50cGFkLy4vc3JjL2NhbnZhcy50cyIsIndlYnBhY2s6Ly9wYWludHBhZC8uL3NyYy9jb2xvcnBpY2tlci50cyIsIndlYnBhY2s6Ly9wYWludHBhZC8uL3NyYy9wYWludHBhZC50cyIsIndlYnBhY2s6Ly9wYWludHBhZC8uL3NyYy9zbGlkZXIudHMiLCJ3ZWJwYWNrOi8vcGFpbnRwYWQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcGFpbnRwYWQvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsImNvbnN0IHN2ZzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcclxuICAndW5kbyc6ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEyXCIgaGVpZ2h0PVwiMTJcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1yb3RhdGUtY2N3XCI+PHBvbHlsaW5lIHBvaW50cz1cIjEgNCAxIDEwIDcgMTBcIj48L3BvbHlsaW5lPjxwYXRoIGQ9XCJNMy41MSAxNWE5IDkgMCAxIDAgMi4xMy05LjM2TDEgMTBcIj48L3BhdGg+PC9zdmc+JyxcclxuICAncmVkbyc6ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEyXCIgaGVpZ2h0PVwiMTJcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1yb3RhdGUtY3dcIj48cG9seWxpbmUgcG9pbnRzPVwiMjMgNCAyMyAxMCAxNyAxMFwiPjwvcG9seWxpbmU+PHBhdGggZD1cIk0yMC40OSAxNWE5IDkgMCAxIDEtMi4xMi05LjM2TDIzIDEwXCI+PC9wYXRoPjwvc3ZnPicsXHJcbiAgJ2NsZWFyJzogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLXgtY2lyY2xlXCI+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiPjwvY2lyY2xlPjxsaW5lIHgxPVwiMTVcIiB5MT1cIjlcIiB4Mj1cIjlcIiB5Mj1cIjE1XCI+PC9saW5lPjxsaW5lIHgxPVwiOVwiIHkxPVwiOVwiIHgyPVwiMTVcIiB5Mj1cIjE1XCI+PC9saW5lPjwvc3ZnPicsXHJcbiAgJ2Rvd25sb2FkJzogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLWRvd25sb2FkXCI+PHBhdGggZD1cIk0yMSAxNXY0YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0ydi00XCI+PC9wYXRoPjxwb2x5bGluZSBwb2ludHM9XCI3IDEwIDEyIDE1IDE3IDEwXCI+PC9wb2x5bGluZT48bGluZSB4MT1cIjEyXCIgeTE9XCIxNVwiIHgyPVwiMTJcIiB5Mj1cIjNcIj48L2xpbmU+PC9zdmc+J1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBidXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihhY3Rpb246IHN0cmluZywgb25DbGljazogKGU6IE1vdXNlRXZlbnQpID0+IHZvaWQpIHtcclxuICAgIHRoaXMuYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICB0aGlzLmJ1dHRvbi5pbm5lckhUTUwgPSBzdmdbYWN0aW9uXTtcclxuICAgIHRoaXMuYnV0dG9uLnRpdGxlID0gYWN0aW9uO1xyXG4gICAgdGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQoKTogSFRNTEJ1dHRvbkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIHRoaXMuYnV0dG9uO1xyXG4gIH1cclxufSIsInR5cGUgUGFpbnRpbmcgPSB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxuICBpc0RyYWdnaW5nOiBib29sZWFuO1xyXG4gIGNvbG9yOiBzdHJpbmc7XHJcbiAgbGluZVdpZHRoOiBudW1iZXI7XHJcbiAgaW5kZXg6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbnZhcyB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbDtcclxuICBwcml2YXRlIHJlYWRvbmx5IGltYWdlTmFtZTogc3RyaW5nO1xyXG5cclxuICBwcml2YXRlIGlzUGFpbnRpbmcgPSBmYWxzZTtcclxuICBwcml2YXRlIHBhaW50aW5nczogUGFpbnRpbmdbXSA9IFtdO1xyXG4gIHByaXZhdGUgY3VycmVudEluZGV4ID0gMDtcclxuICBwcml2YXRlIGNvbG9yOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBsaW5lV2lkdGg6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3Iod2lkdGg6IHN0cmluZywgaGVpZ2h0OiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyLCBjb2xvcjogc3RyaW5nLCBpbWFnZU5hbWU6IHN0cmluZykge1xyXG4gICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XHJcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICB0aGlzLmltYWdlTmFtZSA9IGltYWdlTmFtZTtcclxuXHJcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHdpZHRoKTtcclxuICAgIHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0KTtcclxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xyXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblRvdWNoU3RhcnQuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0KCk6IEhUTUxDYW52YXNFbGVtZW50IHtcclxuICAgIHJldHVybiB0aGlzLmNhbnZhcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRMaW5lV2lkdGgobGluZVdpZHRoOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldENvbG9yKGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmNvbnRleHQgIT0gbnVsbCkge1xyXG4gICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICB0aGlzLnBhaW50aW5ncyA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGRvd25sb2FkKCk6IHZvaWQge1xyXG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIGxpbmsuaHJlZiA9IHRoaXMuY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XHJcbiAgICBsaW5rLmRvd25sb2FkID0gdGhpcy5pbWFnZU5hbWU7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG4gICAgbGluay5jbGljaygpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1bmRvKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID4gMCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRJbmRleC0tO1xyXG4gICAgfVxyXG4gICAgdGhpcy5yZXBhaW50KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVkbygpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA8IHRoaXMuZ2V0TGFzdFBhaW50aW5nSW5kZXgoKSkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRJbmRleCsrO1xyXG4gICAgfVxyXG4gICAgdGhpcy5yZXBhaW50KCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZFBhaW50aW5nKHg6IG51bWJlciwgeTogbnVtYmVyLCBpc0RyYWdnaW5nOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLnBhaW50aW5ncy5wdXNoKHtcclxuICAgICAgeDogeCxcclxuICAgICAgeTogeSxcclxuICAgICAgaXNEcmFnZ2luZzogaXNEcmFnZ2luZyxcclxuICAgICAgY29sb3I6IHRoaXMuY29sb3IsXHJcbiAgICAgIGxpbmVXaWR0aDogdGhpcy5saW5lV2lkdGgsXHJcbiAgICAgIGluZGV4OiB0aGlzLmN1cnJlbnRJbmRleFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlcGFpbnQoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jb250ZXh0ICE9IG51bGwpIHtcclxuICAgICAgY29uc3QgY3R4ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgY3R4LmxpbmVKb2luID0gJ3JvdW5kJztcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYWludGluZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBwYWludGluZyA9IHRoaXMucGFpbnRpbmdzW2ldO1xyXG4gICAgICAgIGlmIChwYWludGluZy5pbmRleCA8PSB0aGlzLmN1cnJlbnRJbmRleCkge1xyXG4gICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgaWYgKHBhaW50aW5nLmlzRHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJldlBhaW50aW5nID0gdGhpcy5wYWludGluZ3NbaSAtIDFdO1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHByZXZQYWludGluZy54LCBwcmV2UGFpbnRpbmcueSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHBhaW50aW5nLnggLSAxLCBwYWludGluZy55KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGN0eC5saW5lVG8ocGFpbnRpbmcueCwgcGFpbnRpbmcueSk7XHJcbiAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBwYWludGluZy5jb2xvcjtcclxuICAgICAgICAgIGN0eC5saW5lV2lkdGggPSBwYWludGluZy5saW5lV2lkdGg7XHJcbiAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldExhc3RQYWludGluZ0luZGV4KCk6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5wYWludGluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wYWludGluZ3NbdGhpcy5wYWludGluZ3MubGVuZ3RoIC0gMV0uaW5kZXg7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Nb3VzZVVwKCk6IHZvaWQge1xyXG4gICAgdGhpcy5pc1BhaW50aW5nID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uTW91c2VMZWF2ZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuaXNQYWludGluZyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbk1vdXNlRG93bihlOiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAoZS5idXR0b24gPT0gMCkge1xyXG4gICAgICB0aGlzLm9uUGFpbnRTdGFydChlLnBhZ2VYLCBlLnBhZ2VZKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Nb3VzZU1vdmUoZTogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgdGhpcy5vblBhaW50TW92ZShlLnBhZ2VYLCBlLnBhZ2VZKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Ub3VjaEVuZCgpIHtcclxuICAgIHRoaXMuaXNQYWludGluZyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblRvdWNoU3RhcnQoZTogVG91Y2hFdmVudCkge1xyXG4gICAgdGhpcy5vblBhaW50U3RhcnQoZS50b3VjaGVzWzBdLmNsaWVudFgsIGUudG91Y2hlc1swXS5jbGllbnRZKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Ub3VjaE1vdmUoZTogVG91Y2hFdmVudCkge1xyXG4gICAgdGhpcy5vblBhaW50TW92ZShlLnRvdWNoZXNbMF0uY2xpZW50WCwgZS50b3VjaGVzWzBdLmNsaWVudFkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblBhaW50U3RhcnQoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIHRoaXMuaXNQYWludGluZyA9IHRydWU7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPCB0aGlzLmdldExhc3RQYWludGluZ0luZGV4KCkpIHtcclxuICAgICAgdGhpcy5wYWludGluZ3MgPSB0aGlzLnBhaW50aW5ncy5maWx0ZXIoZCA9PiBkLmluZGV4IDw9IHRoaXMuY3VycmVudEluZGV4KTtcclxuICAgIH1cclxuICAgIGNvbnN0IGNsaWVudFggPSB4IC0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgIGNvbnN0IGNsaWVudFkgPSB5IC0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgdGhpcy5jdXJyZW50SW5kZXgrKztcclxuICAgIHRoaXMuYWRkUGFpbnRpbmcoY2xpZW50WCwgY2xpZW50WSwgZmFsc2UpO1xyXG4gICAgdGhpcy5yZXBhaW50KCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uUGFpbnRNb3ZlKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICBpZiAodGhpcy5pc1BhaW50aW5nKSB7XHJcbiAgICAgIGNvbnN0IGNsaWVudFggPSB4IC0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgICAgY29uc3QgY2xpZW50WSA9IHkgLSB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICAgIHRoaXMuYWRkUGFpbnRpbmcoY2xpZW50WCwgY2xpZW50WSwgdHJ1ZSk7XHJcbiAgICAgIHRoaXMucmVwYWludCgpO1xyXG4gICAgfVxyXG4gIH1cclxufSIsImV4cG9ydCBjbGFzcyBDb2xvclBpY2tlciB7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjb2xvclBpY2tlcjogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoY29sb3I6IHN0cmluZywgb25DaGFuZ2U6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkKSB7XHJcbiAgICB0aGlzLmNvbG9yUGlja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIHRoaXMuY29sb3JQaWNrZXIudHlwZSA9ICdjb2xvcic7XHJcbiAgICB0aGlzLmNvbG9yUGlja2VyLnZhbHVlID0gY29sb3I7XHJcbiAgICB0aGlzLmNvbG9yUGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IG9uQ2hhbmdlKHRoaXMuY29sb3JQaWNrZXIudmFsdWUpKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQoKTogSFRNTElucHV0RWxlbWVudCB7XHJcbiAgICByZXR1cm4gdGhpcy5jb2xvclBpY2tlcjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRDb2xvcihjb2xvcjogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmNvbG9yUGlja2VyLnZhbHVlID0gY29sb3I7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi9idXR0b24nO1xyXG5pbXBvcnQgeyBDYW52YXMgfSBmcm9tICcuL2NhbnZhcyc7XHJcbmltcG9ydCB7IENvbG9yUGlja2VyIH0gZnJvbSAnLi9jb2xvcnBpY2tlcic7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gJy4vc2xpZGVyJztcclxuXHJcbnR5cGUgUGFpbnRQYWRPcHRpb25zID0ge1xyXG4gIHdpZHRoPzogc3RyaW5nO1xyXG4gIGhlaWdodD86IHN0cmluZztcclxuICBsaW5lV2lkdGg/OiBudW1iZXI7XHJcbiAgbGluZVdpZHRoTWluPzogbnVtYmVyO1xyXG4gIGxpbmVXaWR0aE1heD86IG51bWJlcjtcclxuICBjb2xvcj86IHN0cmluZztcclxuICBpbWFnZU5hbWU/OiBzdHJpbmc7XHJcbiAgaGFzU2xpZGVyPzogYm9vbGVhbjtcclxuICBoYXNDb2xvclBpY2tlcj86IGJvb2xlYW47XHJcbiAgY2FuQ2xlYXI/OiBib29sZWFuO1xyXG4gIGNhbkRvd25sb2FkPzogYm9vbGVhbjtcclxuICBjYW5DaGFuZ2VTdGF0ZT86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQYWludFBhZCBleHRlbmRzIEhUTUxFbGVtZW50IHtcclxuICBwcml2YXRlIHJlYWRvbmx5IGNhbnZhczogQ2FudmFzO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY29sb3JQaWNrZXI/OiBDb2xvclBpY2tlcjtcclxuICBwcml2YXRlIHJlYWRvbmx5IHNsaWRlcj86IFNsaWRlcjtcclxuICBwcml2YXRlIHJlYWRvbmx5IHdpZHRoOiBzdHJpbmcgPSAnNTAwcHgnO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgaGVpZ2h0OiBzdHJpbmcgPSAnNTAwcHgnO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgbGluZVdpZHRoOiBudW1iZXIgPSAxMDtcclxuICBwcml2YXRlIHJlYWRvbmx5IGxpbmVXaWR0aE1pbjogbnVtYmVyID0gMTtcclxuICBwcml2YXRlIHJlYWRvbmx5IGxpbmVXaWR0aE1heDogbnVtYmVyID0gMzA7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjb2xvcjogc3RyaW5nID0gJyMwMDAwMDAnO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgaW1hZ2VOYW1lOiBzdHJpbmcgPSAncGFpbnRwYWQnO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgaGFzU2xpZGVyOiBib29sZWFuID0gdHJ1ZTtcclxuICBwcml2YXRlIHJlYWRvbmx5IGhhc0NvbG9yUGlja2VyOiBib29sZWFuID0gdHJ1ZTtcclxuICBwcml2YXRlIHJlYWRvbmx5IGNhbkNsZWFyOiBib29sZWFuID0gdHJ1ZTtcclxuICBwcml2YXRlIHJlYWRvbmx5IGNhbkRvd25sb2FkOiBib29sZWFuID0gdHJ1ZTtcclxuICBwcml2YXRlIHJlYWRvbmx5IGNhbkNoYW5nZVN0YXRlOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgY29uc3RydWN0b3Iob3B0PzogUGFpbnRQYWRPcHRpb25zKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgY29uc3Qgc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XHJcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB3cmFwcGVyLmlkID0gJ3dyYXBwZXInO1xyXG5cclxuICAgIHRoaXMud2lkdGggPSBvcHQ/LndpZHRoID8/IHRoaXMuZ2V0QXR0cmlidXRlKCd3aWR0aCcpID8/IHRoaXMud2lkdGg7XHJcbiAgICB0aGlzLmhlaWdodCA9IG9wdD8uaGVpZ2h0ID8/IHRoaXMuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSA/PyB0aGlzLmhlaWdodDtcclxuICAgIHRoaXMubGluZVdpZHRoID0gb3B0Py5saW5lV2lkdGggPz8gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoJ2xpbmVXaWR0aCcpID8/IHRoaXMubGluZVdpZHRoLnRvU3RyaW5nKCkpO1xyXG4gICAgdGhpcy5saW5lV2lkdGhNaW4gPSBvcHQ/LmxpbmVXaWR0aE1pbiA/PyBwYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgnbGluZVdpZHRoTWluJykgPz8gdGhpcy5saW5lV2lkdGhNaW4udG9TdHJpbmcoKSk7XHJcbiAgICB0aGlzLmxpbmVXaWR0aE1heCA9IG9wdD8ubGluZVdpZHRoTWF4ID8/IHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCdsaW5lV2lkdGhNYXgnKSA/PyB0aGlzLmxpbmVXaWR0aE1heC50b1N0cmluZygpKTtcclxuICAgIHRoaXMuY29sb3IgPSBvcHQ/LmNvbG9yID8/IHRoaXMuZ2V0QXR0cmlidXRlKCdjb2xvcicpID8/IHRoaXMuY29sb3I7XHJcbiAgICB0aGlzLmltYWdlTmFtZSA9IG9wdD8uaW1hZ2VOYW1lID8/IHRoaXMuZ2V0QXR0cmlidXRlKCdpbWFnZU5hbWUnKSA/PyB0aGlzLmltYWdlTmFtZTtcclxuICAgIHRoaXMuaGFzU2xpZGVyID0gb3B0Py5oYXNTbGlkZXIgPz8gKHRoaXMuZ2V0QXR0cmlidXRlKCdoYXNTbGlkZXInKSA/ICh0aGlzLmdldEF0dHJpYnV0ZSgnaGFzU2xpZGVyJykgPT0gJ3RydWUnKSA6IHRoaXMuaGFzU2xpZGVyKTtcclxuICAgIHRoaXMuaGFzQ29sb3JQaWNrZXIgPSBvcHQ/Lmhhc0NvbG9yUGlja2VyID8/ICh0aGlzLmdldEF0dHJpYnV0ZSgnaGFzQ29sb3JQaWNrZXInKSA/ICh0aGlzLmdldEF0dHJpYnV0ZSgnaGFzQ29sb3JQaWNrZXInKSA9PSAndHJ1ZScpIDogdGhpcy5oYXNDb2xvclBpY2tlcik7XHJcbiAgICB0aGlzLmNhbkNsZWFyID0gb3B0Py5jYW5DbGVhciA/PyAodGhpcy5nZXRBdHRyaWJ1dGUoJ2NhbkNsZWFyJykgPyAodGhpcy5nZXRBdHRyaWJ1dGUoJ2NhbkNsZWFyJykgPT0gJ3RydWUnKSA6IHRoaXMuY2FuQ2xlYXIpO1xyXG4gICAgdGhpcy5jYW5Eb3dubG9hZCA9IG9wdD8uY2FuRG93bmxvYWQgPz8gKHRoaXMuZ2V0QXR0cmlidXRlKCdjYW5Eb3dubG9hZCcpID8gKHRoaXMuZ2V0QXR0cmlidXRlKCdjYW5Eb3dubG9hZCcpID09ICd0cnVlJykgOiB0aGlzLmNhbkRvd25sb2FkKTtcclxuICAgIHRoaXMuY2FuQ2hhbmdlU3RhdGUgPSBvcHQ/LmNhbkNoYW5nZVN0YXRlID8/ICh0aGlzLmdldEF0dHJpYnV0ZSgnY2FuQ2hhbmdlU3RhdGUnKSA/ICh0aGlzLmdldEF0dHJpYnV0ZSgnY2FuQ2hhbmdlU3RhdGUnKSA9PSAndHJ1ZScpIDogdGhpcy5jYW5DaGFuZ2VTdGF0ZSk7XHJcblxyXG4gICAgdGhpcy5jYW52YXMgPSBuZXcgQ2FudmFzKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmxpbmVXaWR0aCwgdGhpcy5jb2xvciwgdGhpcy5pbWFnZU5hbWUpO1xyXG4gICAgd3JhcHBlci5hcHBlbmQodGhpcy5jYW52YXMuZ2V0KCkpO1xyXG5cclxuICAgIGlmICh0aGlzLmhhc1NsaWRlcikge1xyXG4gICAgICB0aGlzLnNsaWRlciA9IG5ldyBTbGlkZXIodGhpcy5saW5lV2lkdGhNaW4sIHRoaXMubGluZVdpZHRoTWF4LCB0aGlzLmxpbmVXaWR0aCwgKHYpID0+IHRoaXMuY2FudmFzLnNldExpbmVXaWR0aCh2KSk7XHJcbiAgICAgIHdyYXBwZXIuYXBwZW5kKHRoaXMuc2xpZGVyLmdldCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBidG5Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGJ0bkNvbnRhaW5lci5pZCA9ICdidG4tY29udGFpbmVyJztcclxuXHJcbiAgICBjb25zdCBidG5Db250YWluZXJMZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBpZiAodGhpcy5jYW5DbGVhcikge1xyXG4gICAgICBjb25zdCBjbGVhckJ0biA9IG5ldyBCdXR0b24oJ2NsZWFyJywgKCkgPT4gdGhpcy5jYW52YXMuY2xlYXIoKSk7XHJcbiAgICAgIGJ0bkNvbnRhaW5lckxlZnQuYXBwZW5kKGNsZWFyQnRuLmdldCgpKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmNhbkRvd25sb2FkKSB7XHJcbiAgICAgIGNvbnN0IGRvd25sb2FkQnRuID0gbmV3IEJ1dHRvbignZG93bmxvYWQnLCAoKSA9PiB0aGlzLmNhbnZhcy5kb3dubG9hZCgpKTtcclxuICAgICAgYnRuQ29udGFpbmVyTGVmdC5hcHBlbmQoZG93bmxvYWRCdG4uZ2V0KCkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuY2FuQ2hhbmdlU3RhdGUpIHtcclxuICAgICAgY29uc3QgdW5kb0J0biA9IG5ldyBCdXR0b24oJ3VuZG8nLCAoKSA9PiB0aGlzLmNhbnZhcy51bmRvKCkpO1xyXG4gICAgICBidG5Db250YWluZXJMZWZ0LmFwcGVuZCh1bmRvQnRuLmdldCgpKTtcclxuICAgICAgY29uc3QgcmVkb0J0biA9IG5ldyBCdXR0b24oJ3JlZG8nLCAoKSA9PiB0aGlzLmNhbnZhcy5yZWRvKCkpO1xyXG4gICAgICBidG5Db250YWluZXJMZWZ0LmFwcGVuZChyZWRvQnRuLmdldCgpKTtcclxuICAgIH1cclxuICAgIGJ0bkNvbnRhaW5lci5hcHBlbmQoYnRuQ29udGFpbmVyTGVmdCk7XHJcblxyXG4gICAgaWYgKHRoaXMuaGFzQ29sb3JQaWNrZXIpIHtcclxuICAgICAgY29uc3QgYnRuQ29udGFpbmVyUmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdGhpcy5jb2xvclBpY2tlciA9IG5ldyBDb2xvclBpY2tlcih0aGlzLmNvbG9yLCAodikgPT4gdGhpcy5jYW52YXMuc2V0Q29sb3IodikpO1xyXG4gICAgICBidG5Db250YWluZXJSaWdodC5hcHBlbmQodGhpcy5jb2xvclBpY2tlci5nZXQoKSk7XHJcbiAgICAgIGJ0bkNvbnRhaW5lci5hcHBlbmQoYnRuQ29udGFpbmVyUmlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHdyYXBwZXIuYXBwZW5kKGJ0bkNvbnRhaW5lcik7XHJcblxyXG4gICAgc2hhZG93LmFwcGVuZENoaWxkKHRoaXMuZ2V0U3R5bGUoKSk7XHJcbiAgICBzaGFkb3cuYXBwZW5kKHdyYXBwZXIpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jYW52YXMuY2xlYXIoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkb3dubG9hZCgpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLmRvd25sb2FkKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdW5kbygpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLnVuZG8oKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZWRvKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jYW52YXMucmVkbygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldENvbG9yKGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLnNldENvbG9yKGNvbG9yKTtcclxuICAgIHRoaXMuY29sb3JQaWNrZXI/LnNldENvbG9yKGNvbG9yKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRMaW5lV2lkdGgobGluZVdpZHRoOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FudmFzLnNldExpbmVXaWR0aChsaW5lV2lkdGgpO1xyXG4gICAgdGhpcy5zbGlkZXI/LnNldFZhbHVlKGxpbmVXaWR0aCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0RGF0YVVSTCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuY2FudmFzLmdldCgpLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0QmxvYihjYWxsYmFjazogQmxvYkNhbGxiYWNrLCB0eXBlPzogc3RyaW5nIHwgdW5kZWZpbmVkLCBxdWFsaXR5PzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICByZXR1cm4gdGhpcy5jYW52YXMuZ2V0KCkudG9CbG9iKGNhbGxiYWNrLCB0eXBlLCBxdWFsaXR5KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0U3R5bGUoKTogSFRNTFN0eWxlRWxlbWVudCB7XHJcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgICBzdHlsZS5pbm5lckhUTUwgPSBgXHJcbiAgICAjd3JhcHBlciB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgIHdpZHRoOiAke3RoaXMud2lkdGh9O1xyXG4gICAgfVxyXG5cclxuICAgIGNhbnZhcyB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICAgIGJvcmRlcjogMnB4IHNvbGlkICNkM2QzZDM7XHJcbiAgICB9XHJcblxyXG4gICAgI2J0bi1jb250YWluZXIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgIHdpZHRoOiAke3RoaXMud2lkdGh9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBidXR0b24ge1xyXG4gICAgICB3aWR0aDogMjBweDtcclxuICAgICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBidXR0b246aG92ZXIge1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2QzZDNkMztcclxuICAgICAgdHJhbnNpdGlvbjogYWxsIDFzIGVhc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlucHV0W3R5cGU9XCJyYW5nZVwiXSB7XHJcbiAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcclxuICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgIGJhY2tncm91bmQ6ICM0NDQ7XHJcbiAgICAgIG9wYWNpdHk6IDAuNztcclxuICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMnM7XHJcbiAgICAgIG1hcmdpbi10b3A6IDhweDtcclxuICAgICAgd2lkdGg6ICR7dGhpcy53aWR0aH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlucHV0W3R5cGU9XCJyYW5nZVwiXTpob3ZlciB7XHJcbiAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlucHV0W3R5cGU9XCJyYW5nZVwiXTo6LXdlYmtpdC1zbGlkZXItdGh1bWIge1xyXG4gICAgICBhcHBlYXJhbmNlOiBub25lO1xyXG4gICAgICB3aWR0aDogMTBweDtcclxuICAgICAgaGVpZ2h0OiAxMHB4O1xyXG4gICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIHotaW5kZXg6IDE7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXRbdHlwZT1cInJhbmdlXCJdOjotbW96LXJhbmdlLXRodW1iIHtcclxuICAgICAgd2lkdGg6IDhweDtcclxuICAgICAgaGVpZ2h0OiA4cHg7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgei1pbmRleDogMTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dFt0eXBlPVwiY29sb3JcIl0ge1xyXG4gICAgICB3aWR0aDogMjBweDtcclxuICAgICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dFt0eXBlPVwiY29sb3JcIl06aG92ZXIge1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2QzZDNkMztcclxuICAgICAgdHJhbnNpdGlvbjogYWxsIDFzIGVhc2U7XHJcbiAgICB9XHJcbiAgICBgO1xyXG4gICAgcmV0dXJuIHN0eWxlO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgncGFpbnQtcGFkJywgUGFpbnRQYWQpO1xyXG4iLCJleHBvcnQgY2xhc3MgU2xpZGVyIHtcclxuICBwcml2YXRlIHJlYWRvbmx5IHNsaWRlcjogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IobWluOiBudW1iZXIsIG1heDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyLCBvbkNoYW5nZTogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQpIHtcclxuICAgIHRoaXMuc2xpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIHRoaXMuc2xpZGVyLnR5cGUgPSAncmFuZ2UnO1xyXG4gICAgdGhpcy5zbGlkZXIubWluID0gbWluLnRvU3RyaW5nKCk7XHJcbiAgICB0aGlzLnNsaWRlci5tYXggPSBtYXgudG9TdHJpbmcoKTtcclxuICAgIHRoaXMuc2xpZGVyLnZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgIHRoaXMuc2xpZGVyLnRpdGxlID0gdGhpcy5zbGlkZXIudmFsdWU7XHJcbiAgICB0aGlzLnNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiBvbkNoYW5nZShwYXJzZUludCh0aGlzLnNsaWRlci52YWx1ZSkpKTtcclxuICAgIHRoaXMuc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHRoaXMuc2xpZGVyLnRpdGxlID0gdGhpcy5zbGlkZXIudmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCgpOiBIVE1MSW5wdXRFbGVtZW50IHtcclxuICAgIHJldHVybiB0aGlzLnNsaWRlcjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRWYWx1ZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnNsaWRlci52YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgfVxyXG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImV4cG9ydCB7IFBhaW50UGFkIH0gZnJvbSAnLi9wYWludHBhZCc7XHJcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJhIiwiaSIsInRoaXMiLCJzdmciLCJjb25zdHJ1Y3RvciIsImFjdGlvbiIsIm9uQ2xpY2siLCJidXR0b24iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJ0aXRsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXQiLCJ3aWR0aCIsImhlaWdodCIsImxpbmVXaWR0aCIsImNvbG9yIiwiaW1hZ2VOYW1lIiwiaXNQYWludGluZyIsInBhaW50aW5ncyIsImN1cnJlbnRJbmRleCIsImNhbnZhcyIsInNldEF0dHJpYnV0ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwib25Nb3VzZURvd24iLCJiaW5kIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJvbk1vdXNlTGVhdmUiLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJzZXRMaW5lV2lkdGgiLCJzZXRDb2xvciIsImNsZWFyIiwiY2xlYXJSZWN0IiwiZG93bmxvYWQiLCJsaW5rIiwiaHJlZiIsInRvRGF0YVVSTCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJ1bmRvIiwicmVwYWludCIsInJlZG8iLCJnZXRMYXN0UGFpbnRpbmdJbmRleCIsImFkZFBhaW50aW5nIiwieCIsInkiLCJpc0RyYWdnaW5nIiwicHVzaCIsImluZGV4IiwiY3R4IiwibGluZUpvaW4iLCJsZW5ndGgiLCJwYWludGluZyIsImJlZ2luUGF0aCIsInByZXZQYWludGluZyIsIm1vdmVUbyIsImxpbmVUbyIsImNsb3NlUGF0aCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlIiwib25QYWludFN0YXJ0IiwicGFnZVgiLCJwYWdlWSIsIm9uUGFpbnRNb3ZlIiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiZmlsdGVyIiwiZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJvbkNoYW5nZSIsImNvbG9yUGlja2VyIiwidHlwZSIsInZhbHVlIiwiUGFpbnRQYWQiLCJIVE1MRWxlbWVudCIsIm9wdCIsInN1cGVyIiwibGluZVdpZHRoTWluIiwibGluZVdpZHRoTWF4IiwiaGFzU2xpZGVyIiwiaGFzQ29sb3JQaWNrZXIiLCJjYW5DbGVhciIsImNhbkRvd25sb2FkIiwiY2FuQ2hhbmdlU3RhdGUiLCJzaGFkb3ciLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwid3JhcHBlciIsImlkIiwiZ2V0QXR0cmlidXRlIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsIkNhbnZhcyIsImFwcGVuZCIsInNsaWRlciIsIlNsaWRlciIsInYiLCJidG5Db250YWluZXIiLCJidG5Db250YWluZXJMZWZ0IiwiY2xlYXJCdG4iLCJCdXR0b24iLCJkb3dubG9hZEJ0biIsInVuZG9CdG4iLCJyZWRvQnRuIiwiYnRuQ29udGFpbmVyUmlnaHQiLCJDb2xvclBpY2tlciIsImdldFN0eWxlIiwic2V0VmFsdWUiLCJnZXREYXRhVVJMIiwiZ2V0QmxvYiIsImNhbGxiYWNrIiwicXVhbGl0eSIsInRvQmxvYiIsInN0eWxlIiwiY3VzdG9tRWxlbWVudHMiLCJtaW4iLCJtYXgiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sInNvdXJjZVJvb3QiOiIifQ==